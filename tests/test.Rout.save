
R version 3.3.2 (2016-10-31) -- "Sincere Pumpkin Patch"
Copyright (C) 2016 The R Foundation for Statistical Computing
Platform: x86_64-pc-linux-gnu (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> ## cat tests/test.R | R --vanilla &>tests/test.Rout.save
> library("EBImage")
> 
> set.seed(0) # make random color permutations in 'colorLabels' reproducible
> .digits = floor(-log10(.Machine$double.eps^.5) - 1)
> 
> ## returns a hashcode given an object
> hash = function (x) .Call(digest:::digest_impl, serialize(x, connection=NULL, ascii=FALSE, xdr=FALSE), 7L, -1L, 14L, 0L, 0L, PACKAGE="digest")
> 
> hash.old <- function(x) {
+   if (is.list(x)) hash(sapply(x,hash))
+   else {
+     xd <- as.numeric(x)
+     xd <- xd[!is.nan(xd)]
+     if (is.matrix(xd)) sum(xd*(1:length(xd))) + 0.7*hash(dim(xd))
+     else sum(xd*(1:length(xd))) - 0.1
+   }
+ }
> 
> ## try to evaluate fun(x,...) 
> check <- function(fun, x, ..., capture.output=FALSE, suppressWarnings=FALSE, suppressMessages=FALSE, expectError=FALSE, round=FALSE, debug=FALSE) {
+   passed <- TRUE
+ 
+   cat(sprintf("checking \'%s\' %s ", fun, paste(rep(".", 35L-nchar(fun)), collapse = "")))
+   
+   expr = quote(do.call(fun,c(list(x),list(...))))
+   if ( isTRUE(capture.output) ) expr = call("capture.output", expr)
+   if ( isTRUE(suppressWarnings) ) expr = call("suppressWarnings", expr)
+   if ( isTRUE(suppressMessages) ) expr = call("suppressMessages", expr)
+   
+   y <- try(eval(expr), silent=TRUE)
+   
+   if ( (class(y)=="try-error" && !isTRUE(expectError) ) || ( is.Image(y) && !validObject(y)) ) {
+     y <- NULL
+     passed <- FALSE
+   }
+ 
+   if (passed) {
+     if ( isTRUE(round) && class(y)!="try-error")
+       y = if ( is.list(y) ) lapply(y, round, digits=.digits) else round(y, digits = .digits)
+     cat("PASS (", hash(y), ") ", hash.old(y), "\n", sep="") 
+   }
+   else cat("FAIL\n")
+   
+   if ( isTRUE(debug) ) {
+     if (is.Image(y)) show(y)
+     if (is.array(y)) display(y, all=TRUE, interpolate=FALSE) 
+     else if (is.character(y)) cat(y, sep="\n")
+   }
+   
+   y
+ }
> 
> checkIO <- function(name) {
+   cat("checking IO for \'", name, "\' ... ", sep="")
+   x = get(name)
+   y = FALSE
+   if ( !is.null(x) ) {
+     y <- try({
+       xx <- readImage(writeImage(x, tempfile("", fileext = ".tif")))
+       dimnames(xx) <- dimnames(x)
+       identical(x, xx)
+       }, silent=TRUE)
+   }
+   if ( isTRUE(y) ) cat("PASS\n") else cat("FAIL\n")
+   invisible(y)
+ }
> 
> testIOFunctions <- function(...) invisible(lapply(list(...), function(y) checkIO(y)))
> 
> testEBImageFunctions <- function(x) {
+   cat("new test (hash=", hash(x), ")\n", sep="")
+   
+   z <- check("show", x, capture.output=TRUE)
+   z <- check("print", x, short=TRUE, capture.output=TRUE)
+   if ( typeof(x)=="logical" )
+     z <- check("hist", EBImage:::castImage(x), breaks = c(0, .5, 1))
+   else
+     z <- check("hist", x)
+   
+   ## pixel arithmetic
+   z <- check(">", x, 0.5)
+   z <- check("+", x, x)
+   z <- check("/", x, 2)
+   z <- check("*", 2L, x)
+   z <- check("median", x)
+   z <- check("quantile", x)
+ 
+   ## image methods
+   z <- check("Image", x, colormode="Color")
+   z <- check("as.Image", x)
+   z <- check("is.Image", x)
+   z <- check("imageData", x)
+   z <- check("imageData<-", x, z)
+   z <- check("as.raster", x)
+   z <- check("colorMode<-", x, Grayscale, suppressWarnings=TRUE)
+   y <- check("numberOfFrames", x, type="render")
+   z <- if ( y==1L ) check("getFrames", x, 1L, "render") else check("getFrames", x)
+   z <- check("display", x, method = "browser", browser = "false")
+   if ( y>2L ) {
+     z <- check("display", x, method = "raster", all = TRUE)
+     z <- check("image", x, i = 3L)
+   }
+   else {
+     z <- if (y==1L) check("display", x, method = "raster") else check("display", x, method = "raster", frame = 2L, suppressMessages=TRUE)
+     z <- check("image", x, suppressMessages=TRUE)
+   }
+   
+   ## drawCircle
+   d <- dim(x)
+   c.x <- ceiling(d[1L]/2)
+   c.y <- ceiling(d[2L]/2)
+   radius <- max(c.x-1, 1)
+   nf <- numberOfFrames(x, "render")
+   fill <- nf > 1
+   col <- if ( colorMode(x)==Color ) "yellow" else 1
+   z <- check("drawCircle", x, c.x, c.x, radius, col, fill, nf)
+   
+   ## subset
+   sub <- list(x, 1:min(10,d[1L]), 1:min(7,d[2L]))
+   if (length(d)>2) sub <- c(sub, rep(TRUE, length(d)-2))
+   z <- do.call("check", c("[", sub))
+ 
+   ## spatial transform
+   z <- check("resize", x, 137, 22)
+   z <- check("rotate", x, 20)
+   z <- check("flip", x)
+   z <- check("flop", x)
+   z <- check("translate", x, c(-7, 5), bg.col=1)
+   z <- check("affine", x, matrix(c(-7, 5, 0.1, -0.2, 0.3, 1), ncol=2L))
+   z <- check("transpose", x)
+ 
+   ## segmentation
+   fd = pmin(5, (d[1:2]-1)/2)
+   z <- check("thresh", x, w=fd[1L], h=fd[2L])
+   y <- check("channel", x, "luminance")
+   z <- check("otsu", y)
+   y <- suppressWarnings(normalize(y, separate=FALSE))
+   y <- check("bwlabel", y > 0.5)
+   z <- check("colorLabels", y, suppressWarnings=TRUE)
+   z <- check("stackObjects", y, x)
+   z <- check("stackObjects", Image(dim=dim(y)), x)
+   cls <- if ( colorMode(x)==Color ) TRUE else FALSE
+   z <- check("paintObjects", y, x, col=c("#ff00ff", "#ffff00"), opac=c(1.0, 0.5), thick=cls, closed=cls)  
+   z <- check("rmObjects", y, as.list(seq_len(numberOfFrames(y))), cls)
+   z <- check("reenumerate", z)
+   z <- check("reenumerate", y)
+   
+   ## features
+   x1 <- getFrame(x, 1)
+   x2 <- list(x=x1, y=2*x1)
+   y1 <- getFrame(y, 1)
+   expandRef <- if ( min(dim(x1)) > 31L ) function(ref, refnames) standardExpandRef(ref, refnames, gblob(n=31L)) else NULL
+   z <- check("computeFeatures", y1, x2, expandRef = expandRef, round = !is.null(expandRef))
+   z <- check("computeFeatures", y1, x2, expandRef = expandRef, properties = TRUE)
+   
+   ## curvature
+   y <- check("ocontour", x>0.5)
+   if (length(y) > 0L ) z <- check("localCurvature", y[[1L]], round=TRUE)
+ 
+   ## filtering
+   z <- check("normalize", x, suppressWarnings=TRUE)
+   z <- check("gblur", x, sigma=1, expectError=min(d)<7, round=TRUE)
+   y <- if (cls) "replicate" else if (nf>1) 0.5 else "circular"
+   z <- check("filter2", x, array(1, dim=c(5, 5)), y, round=TRUE)
+   z <- check("medianFilter", x, 2)
+   z <- check("equalize", x, suppressWarnings=TRUE)
+ 
+   ## morphological operations
+   y <- x > 0.5
+   z <- check("erode", y)
+   z <- check("dilate", y, makeBrush(5, 'disc'))
+   z <- check("opening", y, makeBrush(7, 'line'))
+   z <- check("closing", y, makeBrush(4, 'line', angle=0), suppressWarnings=TRUE)
+   z <- check("distmap", y)
+   z <- check("watershed", z)
+   z <- check('floodFill', x, c(5, 5), 0.5)
+   z <- check('fillHull', y)
+ 
+   ## propagate
+   y <- thresh(x, w=fd[1L], h=fd[2L], offset=0.02)
+   y <- fillHull(y)
+   y <- bwlabel(y)
+   z <- check("propagate", x, y, x>0.5)
+   
+   ## colorspace
+   z <- check("toRGB", x)
+   z <- check("rgbImage", x, x>0.5)
+   z <- check("colormap", channel(x, "luminance"), heat.colors(16L))
+ 
+   ## image stacking, combining, tiling
+   y <- check("combine", list(NULL, x, x, NULL, NULL))
+   z <- check("combine", x, y, y)
+   y <- check("tile", z, nx=3)
+   z <- check("untile", y, c(3, 2))
+ 
+   cat("\n")
+ }
> 
> 
> ## check error handling
> try.readImage <- function(...) tryCatch(suppressWarnings(readImage(...)), error = function(e) NULL)
> mock <- try.readImage(system.file("images", package="EBImage"), type="png")
> mock <- try.readImage("http://www.huber.embl.de/EBImage/missing.file ", type="png")
> 
> ## single greyscale and color images
> sample <- try.readImage(system.file("images","sample.png", package="EBImage"))
> sample.color <- try.readImage(system.file("images","sample-color.png", package="EBImage"))
> ## multi-frame image stack
> f = system.file("images","nuclei.tif", package="EBImage")
> nuclei = try.readImage(c(f, f))
> ## test reading from URL
> logo <- try.readImage("http://www.huber.embl.de/EBImage/logo.png")
> 
> ## test: IO operations
> testIOFunctions("sample", "sample.color", "nuclei", "logo")
checking IO for 'sample' ... PASS
checking IO for 'sample.color' ... PASS
checking IO for 'nuclei' ... PASS
checking IO for 'logo' ... PASS
> 
> ## test: black image
> testEBImageFunctions(Image(0, c(8, 8)))
new test (hash=bb3d006dd4423285)
checking 'show' ............................... PASS (c60852b2f4b4b9e3) NA
checking 'print' .............................. PASS (01ec99e74b854ba0) NA
checking 'hist' ............................... PASS (8c46196952e29db3) 34846b0bcea9feb4
checking '>' .................................. PASS (1b5285e59ce84fa0) -0.1
checking '+' .................................. PASS (bb3d006dd4423285) -0.1
checking '/' .................................. PASS (bb3d006dd4423285) -0.1
checking '*' .................................. PASS (bb3d006dd4423285) -0.1
checking 'median' ............................. PASS (f5699b21f198d2c3) -0.1
checking 'quantile' ........................... PASS (003bcd6206f48eaa) -0.1
checking 'Image' .............................. PASS (99ce97a369121647) -0.1
checking 'as.Image' ........................... PASS (bb3d006dd4423285) -0.1
checking 'is.Image' ........................... PASS (29e1e263d8769b6f) 0.9
checking 'imageData' .......................... PASS (b51b95b0ba6f4dce) -0.1
checking 'imageData<-' ........................ PASS (bb3d006dd4423285) -0.1
checking 'as.raster' .......................... PASS (1675cda1d5c380fa) NA
checking 'colorMode<-' ........................ PASS (bb3d006dd4423285) -0.1
checking 'numberOfFrames' ..................... PASS (96180b4a6b132e65) 0.9
checking 'getFrames' .......................... PASS (d6919177c682b8b7) 14ff3acc3c64b912
checking 'display' ............................ PASS (57f54e3531a18f4e) -0.1
checking 'display' ............................ PASS (57f54e3531a18f4e) -0.1
checking 'image' .............................. PASS (57f54e3531a18f4e) -0.1
checking 'drawCircle' ......................... PASS (f78ee95d7e176d93) 447.9
checking '[' .................................. PASS (7e14c53ed4d31621) -0.1
checking 'resize' ............................. PASS (a1c9da3458e151e8) -0.1
checking 'rotate' ............................. PASS (6ace606563c0af26) -0.1
checking 'flip' ............................... PASS (bb3d006dd4423285) -0.1
checking 'flop' ............................... PASS (bb3d006dd4423285) -0.1
checking 'translate' .......................... PASS (574e9cac8770a1fd) 1932.9
checking 'affine' ............................. PASS (bb3d006dd4423285) -0.1
checking 'transpose' .......................... PASS (bb3d006dd4423285) -0.1
checking 'thresh' ............................. PASS (bb3d006dd4423285) -0.1
checking 'channel' ............................ PASS (bb3d006dd4423285) -0.1
checking 'otsu' ............................... PASS (cbe8a6c6aa2e8245) -0.09804688
checking 'bwlabel' ............................ PASS (bb3d006dd4423285) -0.1
checking 'colorLabels' ........................ PASS (5cb6a857d91ed0ea) -0.1
checking 'stackObjects' ....................... PASS (57f54e3531a18f4e) -0.1
checking 'stackObjects' ....................... PASS (57f54e3531a18f4e) -0.1
checking 'paintObjects' ....................... PASS (bb3d006dd4423285) -0.1
checking 'rmObjects' .......................... PASS (bb3d006dd4423285) -0.1
checking 'reenumerate' ........................ PASS (15bf2ee33450c598) -0.1
checking 'reenumerate' ........................ PASS (15bf2ee33450c598) -0.1
checking 'computeFeatures' .................... PASS (57f54e3531a18f4e) -0.1
checking 'computeFeatures' .................... PASS (5b0f17d23f0847ff) 9cbf0d301c547318
checking 'ocontour' ........................... PASS (236bd4454cc8e13c) 236bd4454cc8e13c
checking 'normalize' .......................... PASS (bb3d006dd4423285) -0.1
checking 'gblur' .............................. PASS (bb3d006dd4423285) -0.1
checking 'filter2' ............................ PASS (bb3d006dd4423285) -0.1
checking 'medianFilter' ....................... PASS (bb3d006dd4423285) -0.1
checking 'equalize' ........................... PASS (bb3d006dd4423285) -0.1
checking 'erode' .............................. PASS (bb3d006dd4423285) -0.1
checking 'dilate' ............................. PASS (bb3d006dd4423285) -0.1
checking 'opening' ............................ PASS (bb3d006dd4423285) -0.1
checking 'closing' ............................ PASS (bb3d006dd4423285) -0.1
checking 'distmap' ............................ PASS (bb3d006dd4423285) -0.1
checking 'watershed' .......................... PASS (bb3d006dd4423285) -0.1
checking 'floodFill' .......................... PASS (02f684c8d407c0f3) 1039.9
checking 'fillHull' ........................... PASS (1b5285e59ce84fa0) -0.1
checking 'propagate' .......................... PASS (bb3d006dd4423285) -0.1
checking 'toRGB' .............................. PASS (5cb6a857d91ed0ea) -0.1
checking 'rgbImage' ........................... PASS (5cb6a857d91ed0ea) -0.1
checking 'colormap' ........................... PASS (4fc03a2c05330d87) 2079.9
checking 'combine' ............................ PASS (7587cd4863b3f3d0) -0.1
checking 'combine' ............................ PASS (8cc517353533c670) -0.1
checking 'tile' ............................... PASS (9c28fe28dabc9dc0) 42140.88
checking 'untile' ............................. PASS (f57349ddce21e8e1) 16809.31

Warning messages:
1: In hash.old(y) : NAs introduced by coercion
2: In hash.old(y) : NAs introduced by coercion
3: In hash.old(y) : NAs introduced by coercion
> 
> ## test: white image
> testEBImageFunctions(Image(1L, c(5, 5)))
new test (hash=fd2903042f6577db)
checking 'show' ............................... PASS (d5cb02fa53f44540) NA
checking 'print' .............................. PASS (19e6cb20d3a1bbed) NA
checking 'hist' ............................... PASS (92c01a74babbd9d2) 885b2aa14f6149d7
checking '>' .................................. PASS (57132767bf0cf5c4) 324.9
checking '+' .................................. PASS (78a44d6226d9747a) 649.9
checking '/' .................................. PASS (35e25cdc915f220c) 162.4
checking '*' .................................. PASS (78a44d6226d9747a) 649.9
checking 'median' ............................. PASS (96180b4a6b132e65) 0.9
checking 'quantile' ........................... PASS (e438e836956ab833) 14.9
checking 'Image' .............................. PASS (25cb6efefa0c888d) 324.9
checking 'as.Image' ........................... PASS (fd2903042f6577db) 324.9
checking 'is.Image' ........................... PASS (29e1e263d8769b6f) 0.9
checking 'imageData' .......................... PASS (8657532cd462ea81) 324.9
checking 'imageData<-' ........................ PASS (fd2903042f6577db) 324.9
checking 'as.raster' .......................... PASS (f789919d8c93fb15) NA
checking 'colorMode<-' ........................ PASS (fd2903042f6577db) 324.9
checking 'numberOfFrames' ..................... PASS (96180b4a6b132e65) 0.9
checking 'getFrames' .......................... PASS (5fc2af241f80dfe3) 792ca128c76659ed
checking 'display' ............................ PASS (57f54e3531a18f4e) -0.1
checking 'display' ............................ PASS (57f54e3531a18f4e) -0.1
checking 'image' .............................. PASS (57f54e3531a18f4e) -0.1
checking 'drawCircle' ......................... PASS (545d29ae11f62e79) 324.9
checking '[' .................................. PASS (fd2903042f6577db) 324.9
checking 'resize' ............................. PASS (066442c79b5dbc5d) 4543605
checking 'rotate' ............................. PASS (6fef9b3e4085e72c) 483.6843
checking 'flip' ............................... PASS (fd2903042f6577db) 324.9
checking 'flop' ............................... PASS (fd2903042f6577db) 324.9
checking 'translate' .......................... PASS (545d29ae11f62e79) 324.9
checking 'affine' ............................. PASS (dc78180c379f20d2) 39.9
checking 'transpose' .......................... PASS (fd2903042f6577db) 324.9
checking 'thresh' ............................. PASS (ca0a4f4dc9dc81ce) -0.1
checking 'channel' ............................ PASS (fd2903042f6577db) 324.9
checking 'otsu' ............................... PASS (f397fccddb916350) 0.8980469
checking 'bwlabel' ............................ PASS (545d29ae11f62e79) 324.9
checking 'colorLabels' ........................ PASS (5a10b69b9bb71739) 2849.9
checking 'stackObjects' ....................... PASS (8f1472c017e2814c) 324.9
checking 'stackObjects' ....................... PASS (57f54e3531a18f4e) -0.1
checking 'paintObjects' ....................... PASS (51f47541d96a6ecf) 270.7333
checking 'rmObjects' .......................... PASS (ca0a4f4dc9dc81ce) -0.1
checking 'reenumerate' ........................ PASS (9a58bf6b1ef39788) -0.1
checking 'reenumerate' ........................ PASS (fd2903042f6577db) 324.9
checking 'computeFeatures' .................... PASS (559dfc74a97494a3) 950932.9
checking 'computeFeatures' .................... PASS (5b0f17d23f0847ff) 9cbf0d301c547318
checking 'ocontour' ........................... PASS (2663ed016907f460) 2cd2b9ad99f98fd3
checking 'localCurvature' ..................... PASS (80236128c43c5c64) aa70763bde359b48
checking 'normalize' .......................... PASS (545d29ae11f62e79) 324.9
checking 'gblur' .............................. PASS (c551b7f0f07ddbb1) NA
checking 'filter2' ............................ PASS (a98d049f987b512a) 8124.9
checking 'medianFilter' ....................... PASS (545d29ae11f62e79) 324.9
checking 'equalize' ........................... PASS (fd2903042f6577db) 324.9
checking 'erode' .............................. PASS (545d29ae11f62e79) 324.9
checking 'dilate' ............................. PASS (545d29ae11f62e79) 324.9
checking 'opening' ............................ PASS (545d29ae11f62e79) 324.9
checking 'closing' ............................ PASS (545d29ae11f62e79) 324.9
checking 'distmap' ............................ PASS (2690b089a32348c7) Inf
checking 'watershed' .......................... PASS (545d29ae11f62e79) 324.9
checking 'floodFill' .......................... PASS (9a58bf6b1ef39788) -0.1
checking 'fillHull' ........................... PASS (57132767bf0cf5c4) 324.9
checking 'propagate' .......................... PASS (ca0a4f4dc9dc81ce) -0.1
checking 'toRGB' .............................. PASS (c8f79be3016a4f30) 2849.9
checking 'rgbImage' ........................... PASS (04e5727b08bf45cb) 1274.9
checking 'colormap' ........................... PASS (465b64f5769d9429) 2652.253
checking 'combine' ............................ PASS (4d32f0cd424c46ed) 1274.9
checking 'combine' ............................ PASS (d235aa9dfa5f7f28) 7874.9
checking 'tile' ............................... PASS (d78128e72e9c8cfb) 24420.64
checking 'untile' ............................. PASS (2f982bd94f9d06ba) 10445.49

Warning messages:
1: In hash.old(y) : NAs introduced by coercion
2: In hash.old(y) : NAs introduced by coercion
3: In hash.old(y) : NAs introduced by coercion
4: In hash.old(y) : NAs introduced by coercion
> 
> ## test: 2D Grayscale 64x48
> x <- nuclei[50:113,208:255,2]
> testEBImageFunctions(as.array(x))
new test (hash=ea1a665d75817fbb)
checking 'show' ............................... PASS (642a853c4a9fb245) NA
checking 'print' .............................. PASS (642a853c4a9fb245) NA
checking 'hist' ............................... PASS (758d77d39292aceb) 22261eb2334cd65e
checking '>' .................................. PASS (b630618a382dd149) 1217568
checking '+' .................................. PASS (78bcec8b0be50e22) 2940144
checking '/' .................................. PASS (eaac0e8ec321e267) 735035.9
checking '*' .................................. PASS (78bcec8b0be50e22) 2940144
checking 'median' ............................. PASS (0ba48ebb83d20dcf) 0.04509804
checking 'quantile' ........................... PASS (922eedf2ceb73c21) 7.331373
checking 'Image' .............................. PASS (930c159d012125dd) 1470072
checking 'as.Image' ........................... PASS (d2785eea34628f36) 1470072
checking 'is.Image' ........................... PASS (7a36fa498bbfcb30) -0.1
checking 'imageData' .......................... PASS (ea1a665d75817fbb) 1470072
checking 'imageData<-' ........................ PASS (ea1a665d75817fbb) 1470072
checking 'as.raster' .......................... PASS (92e268a98a202d0d) NA
checking 'colorMode<-' ........................ PASS (2f347dbc7d4df203) NA
checking 'numberOfFrames' ..................... PASS (96180b4a6b132e65) 0.9
checking 'getFrames' .......................... PASS (c8a1bed0f342ba9c) f9df249b9d461561
checking 'display' ............................ PASS (57f54e3531a18f4e) -0.1
checking 'display' ............................ PASS (57f54e3531a18f4e) -0.1
checking 'image' .............................. PASS (57f54e3531a18f4e) -0.1
checking 'drawCircle' ......................... PASS (d3ac30a887c990f0) 1607165
checking '[' .................................. PASS (9bb7b574fc489848) 48.94314
checking 'resize' ............................. PASS (00fab9ec40eb5e2f) 1419476
checking 'rotate' ............................. PASS (447c32314cc4e9d7) 2493977
checking 'flip' ............................... PASS (a8c542a26b0874e8) 1195977
checking 'flop' ............................... PASS (7e68dec7614712d2) 1462119
checking 'translate' .......................... PASS (21641bbeafdcbc39) 2133961
checking 'affine' ............................. PASS (1ed86f465543429e) 54171.17
checking 'transpose' .......................... PASS (f39a2b54df5d5df8) 1522055
checking 'thresh' ............................. PASS (4bc78ac64950413c) 1246005
checking 'channel' ............................ PASS (ea1a665d75817fbb) 1470072
checking 'otsu' ............................... PASS (0c822739ccd9b674) 0.3160156
checking 'bwlabel' ............................ PASS (39324c5f27cd19ed) 1199387
checking 'colorLabels' ........................ PASS (0505b0b4e09d05ed) 10021713
checking 'stackObjects' ....................... PASS (f8eb9b4047e677fb) 718602.9
checking 'stackObjects' ....................... PASS (57f54e3531a18f4e) -0.1
checking 'paintObjects' ....................... PASS (f064eb914151d29d) 1447733
checking 'rmObjects' .......................... PASS (024fa825107d90e4) -0.1
checking 'reenumerate' ........................ PASS (1a4a77531aec10ea) -0.1
checking 'reenumerate' ........................ PASS (4cb16e06c5138818) 1199387
checking 'computeFeatures' .................... PASS (9dca8bdb6fc6383c) 3634215
checking 'computeFeatures' .................... PASS (12407c053a81599e) 5aee329f7b8a0af0
checking 'ocontour' ........................... PASS (ddb1a61382610e29) 0dab270d98fdbdd8
checking 'localCurvature' ..................... PASS (48edb77f99eb5e0a) a351f1682141f4de
checking 'normalize' .......................... PASS (dd024957ed9be970) 1431381
checking 'gblur' .............................. PASS (ba634c0d6cb869f5) 1466231
checking 'filter2' ............................ PASS (b1783e1383b0d429) 36592176
checking 'medianFilter' ....................... PASS (f73f9cb355632e37) 1454712
checking 'equalize' ........................... PASS (3229c589865d1dd0) 2642794
checking 'erode' .............................. PASS (950a472884cee64d) 759774.9
checking 'dilate' ............................. PASS (efd4f86b4bfb068a) 1797576
checking 'opening' ............................ PASS (aa3826e6f30ba47d) 1152484
checking 'closing' ............................ PASS (113b6484b55f93c0) 1232737
checking 'distmap' ............................ PASS (66da40cd47ec8762) 3826969
checking 'watershed' .......................... PASS (e56c10b1b455d1ee) 2762113
checking 'floodFill' .......................... PASS (e508f01acf50e00d) 1470197
checking 'fillHull' ........................... PASS (b630618a382dd149) 1217568
checking 'propagate' .......................... PASS (d77091beaa461622) 3405440
checking 'toRGB' .............................. PASS (7b33402954c29951) 12381911
checking 'rgbImage' ........................... PASS (c44ead1803e628d9) 4859544
checking 'colormap' ........................... PASS (fbcba322d3f5c951) 11126039
checking 'combine' ............................ PASS (3f46a10efaaab318) 5597376
checking 'combine' ............................ PASS (c2857e1a820b6b96) 33922678
checking 'tile' ............................... PASS (78eab32eac869231) 78718054
checking 'untile' ............................. PASS (59f8bb36c4481a79) 72597772

Warning messages:
1: In hash.old(y) : NAs introduced by coercion
2: In hash.old(y) : NAs introduced by coercion
3: In hash.old(y) : NAs introduced by coercion
4: In hash.old(y) : NAs introduced by coercion
> 
> ## test: 2D Color 32x48x1
> x <- sample[1:32, 1:48]
> testEBImageFunctions(Image(as.vector(x), dim(x), Color))
new test (hash=42e4a51e3404811e)
checking 'show' ............................... PASS (c341f3b9fc1ff684) NA
checking 'print' .............................. PASS (419cec4864e97478) NA
checking 'hist' ............................... PASS (91566cadc223f9a3) 05bf2b59f2a77bb3
checking '>' .................................. PASS (c843a337bba9a51b) 988518.9
checking '+' .................................. PASS (5b9c39c8dde0f4ba) 1531522
checking '/' .................................. PASS (c8eb6e9ad11ccbd8) 382880.4
checking '*' .................................. PASS (5b9c39c8dde0f4ba) 1531522
checking 'median' ............................. PASS (1855a565fb986239) 0.5039216
checking 'quantile' ........................... PASS (3b22f40de65ddba9) 10.10392
checking 'Image' .............................. PASS (42e4a51e3404811e) 765760.9
checking 'as.Image' ........................... PASS (42e4a51e3404811e) 765760.9
checking 'is.Image' ........................... PASS (29e1e263d8769b6f) 0.9
checking 'imageData' .......................... PASS (e5ac272d081a94e8) 765760.9
checking 'imageData<-' ........................ PASS (42e4a51e3404811e) 765760.9
checking 'as.raster' .......................... PASS (b2474ac70f11c65b) NA
checking 'colorMode<-' ........................ PASS (659e2fc3253b48a5) 765760.9
checking 'numberOfFrames' ..................... PASS (96180b4a6b132e65) 0.9
checking 'getFrames' .......................... PASS (0db71a429380e045) 2ce69e3965ee85bb
checking 'display' ............................ PASS (57f54e3531a18f4e) -0.1
checking 'display' ............................ PASS (57f54e3531a18f4e) -0.1
checking 'image' .............................. PASS (57f54e3531a18f4e) -0.1
checking 'drawCircle' ......................... PASS (db43b8c94523e893) 782100.7
checking '[' .................................. PASS (9e53ad55777f433d) 1285.273
checking 'resize' ............................. PASS (08cd4640fbae6405) 2941770
checking 'rotate' ............................. PASS (9999b0e6207528b1) 1247487
checking 'flip' ............................... PASS (a292f4134eba03ae) 661525.2
checking 'flop' ............................... PASS (edb212fe7ec01fae) 768451.1
checking 'translate' .......................... PASS (158cc0e28f649d32) 820434.5
checking 'affine' ............................. PASS (c22bdcc947290f4e) 22238.15
checking 'transpose' .......................... PASS (32f4e3c321435048) 652051.4
checking 'thresh' ............................. PASS (b943803a06273a05) 351487.9
checking 'channel' ............................ PASS (288c8c2a23d7d309) 162800.7
checking 'otsu' ............................... PASS (2634e72eb12ab864) 0.03085937
checking 'bwlabel' ............................ PASS (ddd4e46d262a4161) 832970.9
checking 'colorLabels' ........................ PASS (9aea6bf69b9535b1) 5455321
checking 'stackObjects' ....................... PASS (202a964735f173b1) 596493.9
checking 'stackObjects' ....................... PASS (57f54e3531a18f4e) -0.1
checking 'paintObjects' ....................... PASS (d729a9cd58722f9f) 919069.9
checking 'rmObjects' .......................... PASS (7bf0c1b10078e541) 565.9
checking 'reenumerate' ........................ PASS (315db6e1904a02f2) 565.9
checking 'reenumerate' ........................ PASS (a53dfbd74180c15c) 832970.9
checking 'computeFeatures' .................... PASS (607eae59e3423025) 3988895
checking 'computeFeatures' .................... PASS (12407c053a81599e) 5aee329f7b8a0af0
checking 'ocontour' ........................... PASS (da840dfc876b827d) 90e46e616d6ca694
checking 'localCurvature' ..................... PASS (744209c192ca349a) 97da7b3a7c2ec717
checking 'normalize' .......................... PASS (fd0fb40ffb018169) 747801.4
checking 'gblur' .............................. PASS (850f1053006670c6) 761679.3
checking 'filter2' ............................ PASS (c6d3b7ddd80521f9) 19130329
checking 'medianFilter' ....................... PASS (07a157a471910361) 765141.6
checking 'equalize' ........................... PASS (0e526b3729fc6369) 705546.8
checking 'erode' .............................. PASS (7b0fbf3b5bb264ac) 908526.9
checking 'dilate' ............................. PASS (7d00aa1fb09c0719) 1072658
checking 'opening' ............................ PASS (f11e2f7d68f3389f) 985798.9
checking 'closing' ............................ PASS (2240d5e4429b1db9) 988727.9
checking 'distmap' ............................ PASS (f6300a4f340ae60a) 12740449
checking 'watershed' .......................... PASS (416bf360cd763da1) 988518.9
checking 'floodFill' .......................... PASS (58b50ac20366b30b) 765755.4
checking 'fillHull' ........................... PASS (c843a337bba9a51b) 988518.9
checking 'propagate' .......................... PASS (1c6db85ca7fd5626) 27577069
checking 'toRGB' .............................. PASS (42e4a51e3404811e) 765760.9
checking 'rgbImage' ........................... PASS (3e4ef74fd42ad9d7) 3520680
checking 'colormap' ........................... PASS (d2139029833173d7) 1816912
checking 'combine' ............................ PASS (475166958acc7172) 2960568
checking 'combine' ............................ PASS (dcd2456fbb97967f) 18119267
checking 'tile' ............................... PASS (da0d33a63c42b563) 33061491
checking 'untile' ............................. PASS (3268a8970f502c72) 27788327

Warning messages:
1: In hash.old(y) : NAs introduced by coercion
2: In hash.old(y) : NAs introduced by coercion
3: In hash.old(y) : NAs introduced by coercion
> 
> ## test: 3D Color 65x17x3
> x <- sample.color[1:65, 1:17,]
> testEBImageFunctions(x)
new test (hash=de81d0d989193946)
checking 'show' ............................... PASS (2e8e7d2423e3ccfe) NA
checking 'print' .............................. PASS (6ab730d47def3609) NA
checking 'hist' ............................... PASS (6a57fc1cd042ba00) 65b5b051743defa8
checking '>' .................................. PASS (53e61ab2bda88b20) 1058553
checking '+' .................................. PASS (bfc8079a28d79b4c) 4072301
checking '/' .................................. PASS (b55c46146fdfe46d) 1018075
checking '*' .................................. PASS (bfc8079a28d79b4c) 4072301
checking 'median' ............................. PASS (1bc9c6651e4507c8) 0.2333333
checking 'quantile' ........................... PASS (686379af319f166a) 7.280392
checking 'Image' .............................. PASS (de81d0d989193946) 2036151
checking 'as.Image' ........................... PASS (de81d0d989193946) 2036151
checking 'is.Image' ........................... PASS (29e1e263d8769b6f) 0.9
checking 'imageData' .......................... PASS (cc315d22f9180202) 2036151
checking 'imageData<-' ........................ PASS (de81d0d989193946) 2036151
checking 'as.raster' .......................... PASS (9f57220e155de221) NA
checking 'colorMode<-' ........................ PASS (908b90694e179a06) 2036151
checking 'numberOfFrames' ..................... PASS (96180b4a6b132e65) 0.9
checking 'getFrames' .......................... PASS (1d27d730987b7a26) 8e44d4ba87d4aa02
checking 'display' ............................ PASS (57f54e3531a18f4e) -0.1
checking 'display' ............................ PASS (57f54e3531a18f4e) -0.1
checking 'image' .............................. PASS (57f54e3531a18f4e) -0.1
checking 'drawCircle' ......................... PASS (7dca62c4ac89e623) 2049936
checking '[' .................................. PASS (c393e7deb8110d2e) 9950.096
checking 'resize' ............................. PASS (75a7216227f8dbfa) 15155777
checking 'rotate' ............................. PASS (cba5275a49d1c025) 4525312
checking 'flip' ............................... PASS (ce5674ff635ed106) 1977928
checking 'flop' ............................... PASS (c9a027c754ade888) 2048664
checking 'translate' .......................... PASS (98b2270654265063) 2998417
checking 'affine' ............................. PASS (091470a40c4fba44) 226067.6
checking 'transpose' .......................... PASS (2a083c731f2328d6) 1907377
checking 'thresh' ............................. PASS (2fc386debd057c24) 1351867
checking 'channel' ............................ PASS (628995dc542023b6) 257578.5
checking 'otsu' ............................... PASS (a7933cc16292d271) 0.3316406
checking 'bwlabel' ............................ PASS (caae6285da2ed6b4) 230329.9
checking 'colorLabels' ........................ PASS (80dc35afde7d79d4) 1920855
checking 'stackObjects' ....................... PASS (6f9fa1b0c36f14c3) 712799.6
checking 'stackObjects' ....................... PASS (57f54e3531a18f4e) -0.1
checking 'paintObjects' ....................... PASS (1812b3a1be6f2a21) 2090128
checking 'rmObjects' .......................... PASS (63789968fea1336a) -0.1
checking 'reenumerate' ........................ PASS (cf00ced5df055ef3) -0.1
checking 'reenumerate' ........................ PASS (f8bd68974c926eec) 230329.9
checking 'computeFeatures' .................... PASS (f17bea67c6db8efa) 746878.2
checking 'computeFeatures' .................... PASS (5b0f17d23f0847ff) 9cbf0d301c547318
checking 'ocontour' ........................... PASS (62edd8045dda1043) 91bbaa639ef2cb55
checking 'localCurvature' ..................... PASS (9ddeedd40b4e5c7b) a2c60afaa6d43988
checking 'normalize' .......................... PASS (0b70467017a902ca) 1788995
checking 'gblur' .............................. PASS (220352a03dba8eda) 2029979
checking 'filter2' ............................ PASS (4ca91f0d9cb2a1e9) 50878763
checking 'medianFilter' ....................... PASS (afb4863b9d632271) 2034604
checking 'equalize' ........................... PASS (6d80d436cf8278ec) 2942981
checking 'erode' .............................. PASS (f8fe24181a789685) 830816.9
checking 'dilate' ............................. PASS (4e4ca943184bc411) 1339263
checking 'opening' ............................ PASS (ca80098a09e841ee) 1013295
checking 'closing' ............................ PASS (6ff2eedd05b52828) 1069405
checking 'distmap' ............................ PASS (046048efe2665db2) 6038778
checking 'watershed' .......................... PASS (c63512eb33f79e77) 1058553
checking 'floodFill' .......................... PASS (87ccae676293e02d) 2036854
checking 'fillHull' ........................... PASS (53e61ab2bda88b20) 1058553
checking 'propagate' .......................... PASS (2e773f4d112dbe2e) 5578273
checking 'toRGB' .............................. PASS (de81d0d989193946) 2036151
checking 'rgbImage' ........................... PASS (cab54e5b08f3aae8) 7617867
checking 'colormap' ........................... PASS (1844757fe6d6692b) 1657338
checking 'combine' ............................ PASS (07952012d019c893) 8350133
checking 'combine' ............................ PASS (8cb162a59398a20b) 52959073
checking 'tile' ............................... PASS (498539964fb48dd4) 107188639
checking 'untile' ............................. PASS (9fb04cc414930cc6) 97994583

Warning messages:
1: In hash.old(y) : NAs introduced by coercion
2: In hash.old(y) : NAs introduced by coercion
3: In hash.old(y) : NAs introduced by coercion
> 
> ## test: 3D Grayscale logical 32x32x2
> x <- sample[32:63, 32:63]
> x <- x > otsu(x)
> x <- combine(x, x)
> testEBImageFunctions(x)
new test (hash=45775cc98ccde7d0)
checking 'show' ............................... PASS (17bd08c197d327bf) NA
checking 'print' .............................. PASS (86a9e2802088f094) NA
checking 'hist' ............................... PASS (b67b7652db932932) e392832c9ac4ef1a
checking '>' .................................. PASS (45775cc98ccde7d0) 1055560
checking '+' .................................. PASS (a808c74d4b8f4b1a) 2111120
checking '/' .................................. PASS (050916ceba989d59) 527779.9
checking '*' .................................. PASS (a808c74d4b8f4b1a) 2111120
checking 'median' ............................. PASS (f5699b21f198d2c3) -0.1
checking 'quantile' ........................... PASS (abb46cc6fe827b1e) 8.9
checking 'Image' .............................. PASS (5644736cfb4b41de) 1055560
checking 'as.Image' ........................... PASS (45775cc98ccde7d0) 1055560
checking 'is.Image' ........................... PASS (29e1e263d8769b6f) 0.9
checking 'imageData' .......................... PASS (a8595646a000f9e9) 1055560
checking 'imageData<-' ........................ PASS (45775cc98ccde7d0) 1055560
checking 'as.raster' .......................... PASS (35debdd5bd091cf6) NA
checking 'colorMode<-' ........................ PASS (45775cc98ccde7d0) 1055560
checking 'numberOfFrames' ..................... PASS (0cd27cfa5ab0714e) 1.9
checking 'getFrames' .......................... PASS (8c50f91fce805fce) df388a91608fa45d
checking 'display' ............................ PASS (57f54e3531a18f4e) -0.1
checking 'display' ............................ PASS (57f54e3531a18f4e) -0.1
checking 'image' .............................. PASS (57f54e3531a18f4e) -0.1
checking 'drawCircle' ......................... PASS (a54d00e6ec30cdaa) 1656514
checking '[' .................................. PASS (43978c7896f345b7) 1889.9
checking 'resize' ............................. PASS (b189246d26913306) 9108608
checking 'rotate' ............................. PASS (a4a84e73999cd629) 1600126
checking 'flip' ............................... PASS (3705f945c5050495) 714439.9
checking 'flop' ............................... PASS (91665fdcc5d39ce2) 1064092
checking 'translate' .......................... PASS (6c5b0b16cf2595ee) 1105982
checking 'affine' ............................. PASS (4a6b1cf59de37216) 133467.8
checking 'transpose' .......................... PASS (9be0ad64c90eabc7) 758083.9
checking 'thresh' ............................. PASS (2469627b646f1159) 835221.9
checking 'channel' ............................ PASS (45775cc98ccde7d0) 1055560
checking 'otsu' ............................... PASS (9966633498a5e2d8) 1.4
checking 'bwlabel' ............................ PASS (e566d843ca35b8d8) 1597368
checking 'colorLabels' ........................ PASS (6dc0e9def8039903) 3525827
checking 'stackObjects' ....................... PASS (8ddf2c694201cbf1) 8889538
checking 'stackObjects' ....................... PASS (57f54e3531a18f4e) -0.1
checking 'paintObjects' ....................... PASS (f4107fd743a22ecf) 834266.6
checking 'rmObjects' .......................... PASS (77c37de4bb22002a) 1303423
checking 'reenumerate' ........................ PASS (ff441c512995c200) 1244828
checking 'reenumerate' ........................ PASS (a00294e8900f15eb) 1597368
checking 'computeFeatures' .................... PASS (1d847743be56e5a7) 416164140
checking 'computeFeatures' .................... PASS (12407c053a81599e) 5aee329f7b8a0af0
checking 'ocontour' ........................... PASS (cdb0d0c07c1e0775) b86c6546ddbffb2d
checking 'localCurvature' ..................... PASS (4c13330f1d7fcbd6) 4805cb6e9d47da01
checking 'normalize' .......................... PASS (a34cd51357995e04) 1055560
checking 'gblur' .............................. PASS (f499c36c42da96ae) 1037581
checking 'filter2' ............................ PASS (e5a3d2e924e050fe) 26149148
checking 'medianFilter' ....................... PASS (ff54de12f77d64e5) 1030730
checking 'equalize' ........................... PASS (a34cd51357995e04) 1055560
checking 'erode' .............................. PASS (9612cb7eb59128c1) 617311.9
checking 'dilate' ............................. PASS (96b73c02ecb1f801) 1591594
checking 'opening' ............................ PASS (ad84371145aec835) 861145.9
checking 'closing' ............................ PASS (90ae7f8b017d4bd8) 1188258
checking 'distmap' ............................ PASS (8ba0b0fb6770e8a3) 3856630
checking 'watershed' .......................... PASS (72d368ef2922b662) 1443978
checking 'floodFill' .......................... PASS (45775cc98ccde7d0) 1055560
checking 'fillHull' ........................... PASS (45775cc98ccde7d0) 1055560
checking 'propagate' .......................... PASS (260e26ccbfe28881) 1613920
checking 'toRGB' .............................. PASS (57b9a77f5a12af4f) 8499672
checking 'rgbImage' ........................... PASS (82e9189e21600e37) 4777616
checking 'colormap' ........................... PASS (244a6e10e928fb5e) 10283526
checking 'combine' ............................ PASS (fbb690c6993fed59) 3888784
checking 'combine' ............................ PASS (db4c289138cad595) 23054440
checking 'tile' ............................... PASS (b5d61ba1e08ccf53) 48846817
checking 'untile' ............................. PASS (f740856c06d69a15) 41221063

Warning messages:
1: In hash.old(y) : NAs introduced by coercion
2: In hash.old(y) : NAs introduced by coercion
3: In hash.old(y) : NAs introduced by coercion
> 
> ## test: 4D Color 33x16x3x2
> x <- sample.color[1:33, 1:16,]
> x <- combine(x, x)
> testEBImageFunctions(x)
new test (hash=7b41d26d4354fed1)
checking 'show' ............................... PASS (0e20a4fb07853778) NA
checking 'print' .............................. PASS (0b3e2b71e556d7a8) NA
checking 'hist' ............................... PASS (7266d20001b63e05) 48ff490a50be36d5
checking '>' .................................. PASS (5a6494dd882e20ae) 2013322
checking '+' .................................. PASS (78d490385e4c68e5) 4709417
checking '/' .................................. PASS (98087f12b7f61f2d) 1177354
checking '*' .................................. PASS (78d490385e4c68e5) 4709417
checking 'median' ............................. PASS (fdd3c9a35d83db2f) 0.3823529
checking 'quantile' ........................... PASS (e26e9f3ec19dd1e9) 8.139216
checking 'Image' .............................. PASS (7b41d26d4354fed1) 2354709
checking 'as.Image' ........................... PASS (7b41d26d4354fed1) 2354709
checking 'is.Image' ........................... PASS (29e1e263d8769b6f) 0.9
checking 'imageData' .......................... PASS (242db37f6093cb73) 2354709
checking 'imageData<-' ........................ PASS (7b41d26d4354fed1) 2354709
checking 'as.raster' .......................... PASS (b47cd18dd737d179) NA
checking 'colorMode<-' ........................ PASS (739b8cc774a94061) 2354709
checking 'numberOfFrames' ..................... PASS (0cd27cfa5ab0714e) 1.9
checking 'getFrames' .......................... PASS (dfada18bf7486f49) 6bccd3af078885b1
checking 'display' ............................ PASS (57f54e3531a18f4e) -0.1
checking 'display' ............................ PASS (57f54e3531a18f4e) -0.1
checking 'image' .............................. PASS (57f54e3531a18f4e) -0.1
checking 'drawCircle' ......................... PASS (516ff89688aa090a) 2650006
checking '[' .................................. PASS (b7ab984ac4c76be7) 40701.82
checking 'resize' ............................. PASS (19f045e2a12c3dcd) 76725662
checking 'rotate' ............................. PASS (5ca7d358dc5f6cb8) 4140744
checking 'flip' ............................... PASS (ec438fa29adb6692) 2309692
checking 'flop' ............................... PASS (189be924d5127b6d) 2358658
checking 'translate' .......................... PASS (6b8b9dffcab202c5) 3393923
checking 'affine' ............................. PASS (8490fa9d387d7f22) 301692.6
checking 'transpose' .......................... PASS (f415a850f96da517) 2303263
checking 'thresh' ............................. PASS (d30305b8e477568c) 1981320
checking 'channel' ............................ PASS (d0059f4eaa729cb0) 287206.2
checking 'otsu' ............................... PASS (18794185be6d9049) 1.370703
checking 'bwlabel' ............................ PASS (c2cb1a4cbd2cdc5e) 360413.9
checking 'colorLabels' ........................ PASS (87aec3caedd0f2b2) 3039066
checking 'stackObjects' ....................... PASS (6c9d66add9231c0b) 2472601
checking 'stackObjects' ....................... PASS (57f54e3531a18f4e) -0.1
checking 'paintObjects' ....................... PASS (a94d303375c85afc) 2558300
checking 'rmObjects' .......................... PASS (3185a582f3d8afe4) 261782.9
checking 'reenumerate' ........................ PASS (3c7c32b7c14bf399) 261782.9
checking 'reenumerate' ........................ PASS (cf48a1553a7ca557) 360413.9
checking 'computeFeatures' .................... PASS (43ed64a6574660f3) 749353.1
checking 'computeFeatures' .................... PASS (5b0f17d23f0847ff) 9cbf0d301c547318
checking 'ocontour' ........................... PASS (0cc37fb8be6a9150) a8ef8364446f767a
checking 'localCurvature' ..................... PASS (91ac6bafe7f8c008) feedc85342708fe9
checking 'normalize' .......................... PASS (6f82aae3b180c153) 2693244
checking 'gblur' .............................. PASS (6317c51db4b2e332) 2349701
checking 'filter2' ............................ PASS (ff5a03c8be20359c) 58841710
checking 'medianFilter' ....................... PASS (08a067834027edb5) 2352447
checking 'equalize' ........................... PASS (02d6a459ef536ba0) 2616480
checking 'erode' .............................. PASS (91958efaf7c57e9a) 1547948
checking 'dilate' ............................. PASS (44f4543438933673) 2604996
checking 'opening' ............................ PASS (0ae521563ad8c3db) 1919386
checking 'closing' ............................ PASS (bdf8665e967839e7) 2038196
checking 'distmap' ............................ PASS (e9f6f8a5899a40fd) 10836360
checking 'watershed' .......................... PASS (7f9231558b202abf) 2013322
checking 'floodFill' .......................... PASS (a23cce6e67e088ae) 2355706
checking 'fillHull' ........................... PASS (5a6494dd882e20ae) 2013322
checking 'propagate' .......................... PASS (e7ff27d3cf0885c2) 5892508
checking 'toRGB' .............................. PASS (7b41d26d4354fed1) 2354709
checking 'rgbImage' ........................... PASS (05d03bf83df83dbf) 12071186
checking 'colormap' ........................... PASS (40f159a4fec5a5e4) 2273276
checking 'combine' ............................ PASS (943e696dd062479b) 9516503
checking 'combine' ............................ PASS (5b2b6f0a51b05e18) 59844403
checking 'tile' ............................... PASS (853d179912a1e6b9) 114300809
checking 'untile' ............................. PASS (92a5de5886618db5) 105862114

Warning messages:
1: In hash.old(y) : NAs introduced by coercion
2: In hash.old(y) : NAs introduced by coercion
3: In hash.old(y) : NAs introduced by coercion
> 
> ## test: 4D Grayscale 16x33x2x3
> colorMode(x) <- Grayscale
> imageData(x) <- aperm(x, c(2L, 1L, 4L, 3L))
> testEBImageFunctions(x)
new test (hash=ea218ca35d898b4f)
checking 'show' ............................... PASS (07d544b61ec16bf1) NA
checking 'print' .............................. PASS (185b486b9fcdb3b0) NA
checking 'hist' ............................... PASS (06d171c8f173fbfa) c3d0c3b2d4df7f61
checking '>' .................................. PASS (cdeb2538f3cc7adf) 1541186
checking '+' .................................. PASS (9d2cb7572d822536) 4466272
checking '/' .................................. PASS (93c6c46f0b0e7df5) 1116568
checking '*' .................................. PASS (9d2cb7572d822536) 4466272
checking 'median' ............................. PASS (fdd3c9a35d83db2f) 0.3823529
checking 'quantile' ........................... PASS (e26e9f3ec19dd1e9) 8.139216
checking 'Image' .............................. PASS (b2c89c8bd2d8cfbb) 2233136
checking 'as.Image' ........................... PASS (ea218ca35d898b4f) 2233136
checking 'is.Image' ........................... PASS (29e1e263d8769b6f) 0.9
checking 'imageData' .......................... PASS (85da79da2cd4332f) 2233136
checking 'imageData<-' ........................ PASS (ea218ca35d898b4f) 2233136
checking 'as.raster' .......................... PASS (f7837c7682313ed7) NA
checking 'colorMode<-' ........................ PASS (ea218ca35d898b4f) 2233136
checking 'numberOfFrames' ..................... PASS (ce8815ddd92a2bbb) 5.9
checking 'getFrames' .......................... PASS (e193a8c072f9729f) feb32c3d20c02193
checking 'display' ............................ PASS (57f54e3531a18f4e) -0.1
checking 'display' ............................ PASS (57f54e3531a18f4e) -0.1
checking 'image' .............................. PASS (57f54e3531a18f4e) -0.1
checking 'drawCircle' ......................... PASS (2eeddc22da537d19) 2502013
checking '[' .................................. PASS (ca2402ebe50888e9) 41200.75
checking 'resize' ............................. PASS (c2412da2d423bb4c) 72772706
checking 'rotate' ............................. PASS (e88e2e93ce61d959) 3978266
checking 'flip' ............................... PASS (735ec4743ab3f0c4) 2296325
checking 'flop' ............................... PASS (039d65e48af245d2) 2231772
checking 'translate' .......................... PASS (6dc22f8c9da472fe) 3827517
checking 'affine' ............................. PASS (987d2bf7d6243ac5) 219714.6
checking 'transpose' .......................... PASS (70d09e0401597e51) 2284582
checking 'thresh' ............................. PASS (cabf3ca2031c9aa7) 1786512
checking 'channel' ............................ PASS (ea218ca35d898b4f) 2233136
checking 'otsu' ............................... PASS (73c8c3c1a7c3a7e0) 9.425391
checking 'bwlabel' ............................ PASS (3f35611c05e4ef59) 2016822
checking 'colorLabels' ........................ PASS (2f81d6c90e88b2d4) 14827904
checking 'stackObjects' ....................... PASS (28c1ffc9196cbeda) 2575847
checking 'stackObjects' ....................... PASS (57f54e3531a18f4e) -0.1
checking 'paintObjects' ....................... PASS (ba568e37e29116fa) 2379341
checking 'rmObjects' .......................... PASS (064ba106db72a65c) 1934575
checking 'reenumerate' ........................ PASS (150895efa1acc9af) 1934575
checking 'reenumerate' ........................ PASS (48a9facb579b630f) 2016822
checking 'computeFeatures' .................... PASS (5f168ac8bf99f53d) 734993.9
checking 'computeFeatures' .................... PASS (5b0f17d23f0847ff) 9cbf0d301c547318
checking 'ocontour' ........................... PASS (67c938cc8c8b0a94) e0b0122d0f8dbec3
checking 'localCurvature' ..................... PASS (14e7e43044a6edce) dbbde661d27cf4d5
checking 'normalize' .......................... PASS (c6700c53a770f4dc) 2526618
checking 'gblur' .............................. PASS (167add1590f90b31) 2237219
checking 'filter2' ............................ PASS (288a7b9238221d38) 56904871
checking 'medianFilter' ....................... PASS (12259cca79cae7e1) 2231438
checking 'equalize' ........................... PASS (8a3ab1c34c6d6b46) 2447139
checking 'erode' .............................. PASS (6acdaa9e095355fd) 1121204
checking 'dilate' ............................. PASS (a5aaf6db84ee5546) 2104588
checking 'opening' ............................ PASS (895fc7311549d77d) 1451050
checking 'closing' ............................ PASS (1d413e4dbd0f1c0d) 1569448
checking 'distmap' ............................ PASS (fd74d28ff7a40bc8) 7464344
checking 'watershed' .......................... PASS (2705781a5e93a0a5) 1541186
checking 'floodFill' .......................... PASS (c8f6a63ecc5faeb2) 2234521
checking 'fillHull' ........................... PASS (cdeb2538f3cc7adf) 1541186
checking 'propagate' .......................... PASS (799246dd013f020b) 2201664
checking 'toRGB' .............................. PASS (7ac5c5945e1aa8b4) 20279146
checking 'rgbImage' ........................... PASS (6c13f1c0649a1b02) 10796552
checking 'colormap' ........................... PASS (fffb8d91ccca5f12) 22585273
checking 'combine' ............................ PASS (61a6f7f5c6357973) 8992851
checking 'combine' ............................ PASS (e3af2b87e81b577e) 56431472
checking 'tile' ............................... PASS (22c39d5bf0a57b26) 72664167
checking 'untile' ............................. PASS (f3dd10e639f40c64) 60048605

Warning messages:
1: In hash.old(y) : NAs introduced by coercion
2: In hash.old(y) : NAs introduced by coercion
3: In hash.old(y) : NAs introduced by coercion
> 
> ## test: Image subclass
> ImageSubclass <- setClass ("ImageSubclass", contains = "Image", slots = c(foo = "character"))
> x <- ImageSubclass(x, foo="bar")
> testEBImageFunctions(x)
new test (hash=2cd1b3ca941d0306)
checking 'show' ............................... PASS (ce75d078eccda68c) NA
checking 'print' .............................. PASS (e01f0947e67df522) NA
checking 'hist' ............................... PASS (06d171c8f173fbfa) c3d0c3b2d4df7f61
checking '>' .................................. PASS (8eb52b594f8cd22b) 1541186
checking '+' .................................. PASS (d0da7a47899efbc4) 4466272
checking '/' .................................. PASS (8bfccf8b88e728b0) 1116568
checking '*' .................................. PASS (d0da7a47899efbc4) 4466272
checking 'median' ............................. PASS (fdd3c9a35d83db2f) 0.3823529
checking 'quantile' ........................... PASS (e26e9f3ec19dd1e9) 8.139216
checking 'Image' .............................. PASS (b2c89c8bd2d8cfbb) 2233136
checking 'as.Image' ........................... PASS (ea218ca35d898b4f) 2233136
checking 'is.Image' ........................... PASS (29e1e263d8769b6f) 0.9
checking 'imageData' .......................... PASS (85da79da2cd4332f) 2233136
checking 'imageData<-' ........................ PASS (2cd1b3ca941d0306) 2233136
checking 'as.raster' .......................... PASS (f7837c7682313ed7) NA
checking 'colorMode<-' ........................ PASS (2cd1b3ca941d0306) 2233136
checking 'numberOfFrames' ..................... PASS (ce8815ddd92a2bbb) 5.9
checking 'getFrames' .......................... PASS (57ddf8e1c5653fa1) 578ceb264bf8c00f
checking 'display' ............................ PASS (57f54e3531a18f4e) -0.1
checking 'display' ............................ PASS (57f54e3531a18f4e) -0.1
checking 'image' .............................. PASS (57f54e3531a18f4e) -0.1
checking 'drawCircle' ......................... PASS (2a6138d3f6c7cf2b) 2502013
checking '[' .................................. PASS (21b006dc9b230591) 41200.75
checking 'resize' ............................. PASS (d4439ccaddffedbf) 72772706
checking 'rotate' ............................. PASS (49bab3d36db066a3) 3978266
checking 'flip' ............................... PASS (de3315d317526bf8) 2296325
checking 'flop' ............................... PASS (1746b768e1919758) 2231772
checking 'translate' .......................... PASS (eb6575b71bd228cf) 3827517
checking 'affine' ............................. PASS (6f88949e9ca0500f) 219714.6
checking 'transpose' .......................... PASS (cae5d3f85d9a6547) 2284582
checking 'thresh' ............................. PASS (9b22c4c752bdbe31) 1786512
checking 'channel' ............................ PASS (2cd1b3ca941d0306) 2233136
checking 'otsu' ............................... PASS (73c8c3c1a7c3a7e0) 9.425391
checking 'bwlabel' ............................ PASS (c89e2f43d8c4d058) 2016822
checking 'colorLabels' ........................ PASS (3d06f02ad8d875a7) 16357947
checking 'stackObjects' ....................... PASS (3dfb061836ca6d36) 2575847
checking 'stackObjects' ....................... PASS (57f54e3531a18f4e) -0.1
checking 'paintObjects' ....................... PASS (d0e505d3ebc1fb67) 2379341
checking 'rmObjects' .......................... PASS (c3455fb0aad59ab3) 1934575
checking 'reenumerate' ........................ PASS (72c36fcb451899a7) 1934575
checking 'reenumerate' ........................ PASS (0cd3636f1086f354) 2016822
checking 'computeFeatures' .................... PASS (5f168ac8bf99f53d) 734993.9
checking 'computeFeatures' .................... PASS (5b0f17d23f0847ff) 9cbf0d301c547318
checking 'ocontour' ........................... PASS (67c938cc8c8b0a94) e0b0122d0f8dbec3
checking 'localCurvature' ..................... PASS (14e7e43044a6edce) dbbde661d27cf4d5
checking 'normalize' .......................... PASS (c864fc347d3e1eec) 2526618
checking 'gblur' .............................. PASS (41001e94fa243311) 2237219
checking 'filter2' ............................ PASS (c4dde73f4cd08626) 56904871
checking 'medianFilter' ....................... PASS (f336aae43926dd3a) 2231438
checking 'equalize' ........................... PASS (8aff651b4bfe1e2d) 2447139
checking 'erode' .............................. PASS (383acb6bf84688da) 1121204
checking 'dilate' ............................. PASS (9d7e4182ba814a7e) 2104588
checking 'opening' ............................ PASS (ebc4fe5d528c652d) 1451050
checking 'closing' ............................ PASS (c8becdbac9f98c79) 1569448
checking 'distmap' ............................ PASS (fb1ca8ba680de2b3) 7464344
checking 'watershed' .......................... PASS (e13411cbbdc66fb2) 1541186
checking 'floodFill' .......................... PASS (54aa4548fd305300) 2234521
checking 'fillHull' ........................... PASS (8eb52b594f8cd22b) 1541186
checking 'propagate' .......................... PASS (50338f78f64cf3cd) 2201664
checking 'toRGB' .............................. PASS (3e30f901f32391f1) 20279146
checking 'rgbImage' ........................... PASS (7265edee83ee6475) 10796552
checking 'colormap' ........................... PASS (2d850cd3a218b6b9) 22585273
checking 'combine' ............................ PASS (8750feb29c15297c) 8992851
checking 'combine' ............................ PASS (c97b83093836307a) 56431472
checking 'tile' ............................... PASS (2144c4a0e85d648a) 72664167
checking 'untile' ............................. PASS (340bd33c3fc91099) 60048605

Warning messages:
1: In hash.old(y) : NAs introduced by coercion
2: In hash.old(y) : NAs introduced by coercion
3: In hash.old(y) : NAs introduced by coercion
> 
