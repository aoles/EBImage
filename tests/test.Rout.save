
R version 4.1.1 (2021-08-10) -- "Kick Things"
Copyright (C) 2021 The R Foundation for Statistical Computing
Platform: x86_64-apple-darwin17.0 (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> ## cat tests/test.R | R --vanilla &>tests/test.Rout.save
> library("EBImage")
> 
> set.seed(0) # make random color permutations in 'colorLabels' reproducible
> .digits = floor(-log10(.Machine$double.eps^.5) - 1)
> 
> ## returns a hashcode given an object
> hash = function (x) .Call(digest:::digest_impl, serialize(x, connection=NULL, ascii=FALSE, xdr=FALSE), 7L, -1L, 14L, 0L, 0L, PACKAGE="digest")
> 
> hash.old <- function(x) {
+   if (is.list(x)) hash(sapply(x,hash))
+   else {
+     xd <- as.numeric(x)
+     xd <- xd[!is.nan(xd)]
+     if (is.matrix(xd)) sum(xd*(1:length(xd))) + 0.7*hash(dim(xd))
+     else sum(xd*(1:length(xd))) - 0.1
+   }
+ }
> 
> ## try to evaluate fun(x,...) 
> check <- function(fun, x, ..., capture.output=FALSE, suppressWarnings=FALSE, suppressMessages=FALSE, expectError=FALSE, round=FALSE, debug=FALSE) {
+   passed <- TRUE
+ 
+   cat(sprintf("checking \'%s\' %s ", fun, paste(rep(".", 35L-nchar(fun)), collapse = "")))
+   
+   expr = quote(do.call(fun,c(list(x),list(...))))
+   if ( isTRUE(capture.output) ) expr = call("capture.output", expr)
+   if ( isTRUE(suppressWarnings) ) expr = call("suppressWarnings", expr)
+   if ( isTRUE(suppressMessages) ) expr = call("suppressMessages", expr)
+   
+   y <- try(eval(expr), silent=TRUE)
+   
+   if ( (inherits(y, "try-error") && !isTRUE(expectError)) || (is.Image(y) && !validObject(y)) ) {
+     y <- NULL
+     passed <- FALSE
+   }
+ 
+   if (passed) {
+     if (isTRUE(round) && !inherits(y, "try-error"))
+       y = if ( is.list(y) ) lapply(y, round, digits=.digits) else round(y, digits = .digits)
+     cat("PASS (", hash(y), ") ", hash.old(y), "\n", sep="") 
+   }
+   else cat("FAIL\n")
+   
+   if ( isTRUE(debug) ) {
+     if (is.Image(y)) show(y)
+     if (is.array(y)) display(y, all=TRUE, interpolate=FALSE) 
+     else if (is.character(y)) cat(y, sep="\n")
+   }
+   
+   y
+ }
> 
> checkIO <- function(name) {
+   cat("checking IO for \'", name, "\' ... ", sep="")
+   x = get(name)
+   y = FALSE
+   if ( !is.null(x) ) {
+     y <- try({
+       xx <- readImage(writeImage(x, tempfile("", fileext = ".tif")))
+       dimnames(xx) <- dimnames(x)
+       identical(x, xx)
+       }, silent=TRUE)
+   }
+   if ( isTRUE(y) ) cat("PASS\n") else cat("FAIL\n")
+   invisible(y)
+ }
> 
> testIOFunctions <- function(...) invisible(lapply(list(...), function(y) checkIO(y)))
> 
> testEBImageFunctions <- function(x) {
+   cat("new test (hash=", hash(x), ")\n", sep="")
+   
+   z <- check("show", x, capture.output=TRUE)
+   z <- check("print", x, short=TRUE, capture.output=TRUE)
+   if ( typeof(x)=="logical" )
+     z <- check("hist", EBImage:::castImage(x), breaks = c(0, .5, 1))
+   else
+     z <- check("hist", x)
+   
+   ## pixel arithmetic
+   z <- check(">", x, 0.5)
+   z <- check("+", x, x)
+   z <- check("/", x, 2)
+   z <- check("*", 2L, x)
+   z <- check("median", x)
+   z <- check("quantile", x)
+ 
+   ## image methods
+   z <- check("Image", x, colormode="Color")
+   z <- check("as.Image", x)
+   z <- check("is.Image", x)
+   z <- check("imageData", x)
+   z <- check("imageData<-", x, z)
+   z <- check("as.raster", x)
+   z <- check("colorMode<-", x, Grayscale, suppressWarnings=TRUE)
+   y <- check("numberOfFrames", x, type="render")
+   z <- if ( y==1L ) check("getFrames", x, 1L, "render") else check("getFrames", x)
+   z <- check("display", x, method = "browser", tempDir = file.path(dirname(tempdir()), "EBImage_tmp"))
+   if ( y>2L ) {
+     z <- check("display", x, method = "raster", all = TRUE)
+     z <- check("image", x, i = 3L)
+   }
+   else {
+     z <- if (y==1L) check("display", x, method = "raster") else check("display", x, method = "raster", frame = 2L, suppressMessages=TRUE)
+     z <- check("image", x, suppressMessages=TRUE)
+   }
+   
+   ## drawCircle
+   d <- dim(x)
+   c.x <- ceiling(d[1L]/2)
+   c.y <- ceiling(d[2L]/2)
+   radius <- max(c.x-1, 1)
+   nf <- numberOfFrames(x, "render")
+   fill <- nf > 1
+   col <- if ( colorMode(x)==Color ) "yellow" else 1
+   z <- check("drawCircle", x, c.x, c.x, radius, col, fill, nf)
+   
+   ## subset
+   sub <- list(x, 1:min(10,d[1L]), 1:min(7,d[2L]))
+   if (length(d)>2) sub <- c(sub, rep(TRUE, length(d)-2))
+   z <- do.call("check", c("[", sub))
+ 
+   ## spatial transform
+   z <- check("resize", x, 137, 22)
+   z <- check("rotate", x, 20)
+   z <- check("flip", x)
+   z <- check("flop", x)
+   z <- check("translate", x, c(-7, 5), bg.col=1)
+   z <- check("affine", x, matrix(c(-7, 5, 0.1, -0.2, 0.3, 1), ncol=2L))
+   z <- check("transpose", x)
+ 
+   ## segmentation
+   fd = pmin(5, (d[1:2]-1)/2)
+   z <- check("thresh", x, w=fd[1L], h=fd[2L])
+   y <- check("channel", x, "luminance")
+   z <- check("otsu", y)
+   y <- suppressWarnings(normalize(y, separate=FALSE))
+   y <- check("bwlabel", y > 0.5)
+   z <- check("colorLabels", y, suppressWarnings=TRUE)
+   z <- check("stackObjects", y, x)
+   z <- check("stackObjects", Image(dim=dim(y)), x)
+   cls <- if ( colorMode(x)==Color ) TRUE else FALSE
+   z <- check("paintObjects", y, x, col=c("#ff00ff", "#ffff00"), opac=c(1.0, 0.5), thick=cls, closed=cls)  
+   z <- check("rmObjects", y, as.list(seq_len(numberOfFrames(y))), cls)
+   z <- check("reenumerate", z)
+   z <- check("reenumerate", y)
+   
+   ## features
+   x1 <- getFrame(x, 1)
+   x2 <- list(x=x1, y=2*x1)
+   y1 <- getFrame(y, 1)
+   expandRef <- if ( min(dim(x1)) > 31L ) function(ref, refnames) standardExpandRef(ref, refnames, gblob(n=31L)) else NULL
+   z <- check("computeFeatures", y1, x2, expandRef = expandRef, round = !is.null(expandRef))
+   z <- check("computeFeatures", y1, x2, expandRef = expandRef, properties = TRUE)
+   
+   ## curvature
+   y <- check("ocontour", x>0.5)
+   if (length(y) > 0L ) z <- check("localCurvature", y[[1L]], round=TRUE)
+ 
+   ## filtering
+   z <- check("normalize", x, suppressWarnings=TRUE)
+   z <- check("normalize", x, inputRange=c(0.1, 0.9), suppressWarnings=TRUE)
+   z <- check("gblur", x, sigma=1, expectError=min(d)<7, round=TRUE)
+   y <- if (cls) "replicate" else if (nf>1) 0.5 else "circular"
+   z <- check("filter2", x, array(1, dim=c(5, 5)), y, round=TRUE)
+   z <- check("medianFilter", x, 2)
+   z <- check("equalize", x, suppressWarnings=TRUE)
+ 
+   ## morphological operations
+   y <- x > 0.5
+   z <- check("erode", y)
+   z <- check("dilate", y, makeBrush(5, 'disc'))
+   z <- check("opening", y, makeBrush(7, 'line'))
+   z <- check("closing", y, makeBrush(4, 'line', angle=0), suppressWarnings=TRUE)
+   z <- check("whiteTopHat", x, makeBrush(3, 'box'))
+   z <- check("blackTopHat", x, makeBrush(5, 'disc'))
+   z <- check("selfComplementaryTopHat", x)
+   z <- check("distmap", y)
+   z <- check("watershed", z)
+   z <- check('floodFill', x, c(5, 5), 0.5)
+   z <- check('fillHull', y)
+ 
+   ## propagate
+   y <- thresh(x, w=fd[1L], h=fd[2L], offset=0.02)
+   y <- fillHull(y)
+   y <- bwlabel(y)
+   z <- check("propagate", x, y, x>0.5)
+   
+   ## colorspace
+   z <- check("toRGB", x)
+   z <- check("rgbImage", x, x>0.5)
+   z <- check("colormap", channel(x, "luminance"), heat.colors(16L))
+ 
+   ## image stacking, combining, tiling
+   y <- check("combine", list(NULL, x, x, NULL, NULL))
+   z <- check("combine", x, y, y)
+   y <- check("tile", z, nx=3)
+   z <- check("untile", y, c(3, 2))
+   y <- check("abind", list(x, x), along=length(d)+1L)
+   cat("\n")
+ }
> 
> 
> ## check error handling
> try.readImage <- function(...) tryCatch(suppressWarnings(readImage(...)), error = function(e) NULL)
> mock <- try.readImage(system.file("images", package="EBImage"), type="png")
> mock <- try.readImage("http://www.huber.embl.de/EBImage/missing.file ", type="png")
> 
> ## single greyscale and color images
> sample <- try.readImage(system.file("images","sample.png", package="EBImage"))
> sample.color <- try.readImage(system.file("images","sample-color.png", package="EBImage"))
> ## multi-frame image stack
> f = system.file("images","nuclei.tif", package="EBImage")
> nuclei = try.readImage(c(f, f))
> ## test reading from URL
> logo <- try.readImage("http://www.huber.embl.de/EBImage/logo.png")
> 
> ## test: IO operations
> testIOFunctions("sample", "sample.color", "nuclei", "logo")
checking IO for 'sample' ... PASS
checking IO for 'sample.color' ... PASS
checking IO for 'nuclei' ... PASS
checking IO for 'logo' ... PASS
Warning message:
In readTIFF(x, all = all, ...) :
  TIFFReadDirectory: Sum of Photometric type-related color channels and ExtraSamples doesn't match SamplesPerPixel. Defining non-color channels as ExtraSamples.
> 
> ## test: black image
> testEBImageFunctions(Image(0, c(8, 8)))
new test (hash=03724aaea0cf64b4)
checking 'show' ............................... PASS (5a93d2a87828912b) NA
checking 'print' .............................. PASS (0007ac6dee6a14da) NA
checking 'hist' ............................... PASS (8ef6dc298b72d591) 544b329c50204069
checking '>' .................................. PASS (91517a74c2895221) -0.1
checking '+' .................................. PASS (03724aaea0cf64b4) -0.1
checking '/' .................................. PASS (03724aaea0cf64b4) -0.1
checking '*' .................................. PASS (03724aaea0cf64b4) -0.1
checking 'median' ............................. PASS (8396e8397399bb05) -0.1
checking 'quantile' ........................... PASS (5e6b34b7d87730f0) -0.1
checking 'Image' .............................. PASS (e4b04ad17c704314) -0.1
checking 'as.Image' ........................... PASS (03724aaea0cf64b4) -0.1
checking 'is.Image' ........................... PASS (e3aef3409e870c0e) 0.9
checking 'imageData' .......................... PASS (1ba6fa2bac2e6157) -0.1
checking 'imageData<-' ........................ PASS (03724aaea0cf64b4) -0.1
checking 'as.raster' .......................... PASS (e8f1c1057deba532) NA
checking 'colorMode<-' ........................ PASS (03724aaea0cf64b4) -0.1
checking 'numberOfFrames' ..................... PASS (7c79dea3bfc1415b) 0.9
checking 'getFrames' .......................... PASS (437d348905e7edea) 83048ee9a100740d
checking 'display' ............................ PASS (4c9befc7a9f9f22e) 8b45ca00d2ff9b26
checking 'display' ............................ PASS (d956c282ac7180e4) -0.1
checking 'image' .............................. PASS (d956c282ac7180e4) -0.1
checking 'drawCircle' ......................... PASS (76ab1bcd040f633c) 447.9
checking '[' .................................. PASS (3c13b8fa403f3a61) -0.1
checking 'resize' ............................. PASS (59b56ab6bbfb3b98) -0.1
checking 'rotate' ............................. PASS (d9d1aa63f93f02d0) -0.1
checking 'flip' ............................... PASS (03724aaea0cf64b4) -0.1
checking 'flop' ............................... PASS (03724aaea0cf64b4) -0.1
checking 'translate' .......................... PASS (8f2e405bb6973b4a) 1932.9
checking 'affine' ............................. PASS (03724aaea0cf64b4) -0.1
checking 'transpose' .......................... PASS (03724aaea0cf64b4) -0.1
checking 'thresh' ............................. PASS (c13bdaf3a3ddff95) -0.1
checking 'channel' ............................ PASS (03724aaea0cf64b4) -0.1
checking 'otsu' ............................... PASS (e3b39ef666a0ce39) -0.09804688
checking 'bwlabel' ............................ PASS (c13bdaf3a3ddff95) -0.1
checking 'colorLabels' ........................ PASS (73c6f975aa7b9638) -0.1
checking 'stackObjects' ....................... PASS (d956c282ac7180e4) -0.1
checking 'stackObjects' ....................... PASS (d956c282ac7180e4) -0.1
checking 'paintObjects' ....................... PASS (03724aaea0cf64b4) -0.1
checking 'rmObjects' .......................... PASS (c13bdaf3a3ddff95) -0.1
checking 'reenumerate' ........................ PASS (c13bdaf3a3ddff95) -0.1
checking 'reenumerate' ........................ PASS (c13bdaf3a3ddff95) -0.1
checking 'computeFeatures' .................... PASS (d956c282ac7180e4) -0.1
checking 'computeFeatures' .................... PASS (8cd691a663f460c1) 9bc95f30143c0aa0
checking 'ocontour' ........................... PASS (0cbbfbd6c2b5057a) 0cbbfbd6c2b5057a
checking 'normalize' .......................... PASS (03724aaea0cf64b4) -0.1
checking 'normalize' .......................... PASS (03724aaea0cf64b4) -0.1
checking 'gblur' .............................. PASS (03724aaea0cf64b4) -0.1
checking 'filter2' ............................ PASS (03724aaea0cf64b4) -0.1
checking 'medianFilter' ....................... PASS (03724aaea0cf64b4) -0.1
checking 'equalize' ........................... PASS (03724aaea0cf64b4) -0.1
checking 'erode' .............................. PASS (91517a74c2895221) -0.1
checking 'dilate' ............................. PASS (91517a74c2895221) -0.1
checking 'opening' ............................ PASS (91517a74c2895221) -0.1
checking 'closing' ............................ PASS (91517a74c2895221) -0.1
checking 'whiteTopHat' ........................ PASS (03724aaea0cf64b4) -0.1
checking 'blackTopHat' ........................ PASS (03724aaea0cf64b4) -0.1
checking 'selfComplementaryTopHat' ............ PASS (03724aaea0cf64b4) -0.1
checking 'distmap' ............................ PASS (03724aaea0cf64b4) -0.1
checking 'watershed' .......................... PASS (c13bdaf3a3ddff95) -0.1
checking 'floodFill' .......................... PASS (b7521415b91cdd6a) 1039.9
checking 'fillHull' ........................... PASS (91517a74c2895221) -0.1
checking 'propagate' .......................... PASS (c13bdaf3a3ddff95) -0.1
checking 'toRGB' .............................. PASS (73c6f975aa7b9638) -0.1
checking 'rgbImage' ........................... PASS (73c6f975aa7b9638) -0.1
checking 'colormap' ........................... PASS (f55f763f0bce6d0e) 2079.9
checking 'combine' ............................ PASS (7d8cabf23a7147bf) -0.1
checking 'combine' ............................ PASS (dfe23dd6a6fd08b8) -0.1
checking 'tile' ............................... PASS (63b8539b976f10f9) 42140.88
checking 'untile' ............................. PASS (fc2ab5092822346e) 16809.31
checking 'abind' .............................. PASS (7d8cabf23a7147bf) -0.1

Warning messages:
1: In hash.old(y) : NAs introduced by coercion
2: In hash.old(y) : NAs introduced by coercion
3: In hash.old(y) : NAs introduced by coercion
> 
> ## test: white image
> testEBImageFunctions(Image(1L, c(5, 5)))
new test (hash=5e369a5a8c06ea6e)
checking 'show' ............................... PASS (d7ff39dcf34291a7) NA
checking 'print' .............................. PASS (423045c171032825) NA
checking 'hist' ............................... PASS (c32dc2571db86a0f) da29db1ad663925e
checking '>' .................................. PASS (ab60d77d8694845c) 324.9
checking '+' .................................. PASS (ccb4c957b356b423) 649.9
checking '/' .................................. PASS (e68dd3c4bf42ae06) 162.4
checking '*' .................................. PASS (ccb4c957b356b423) 649.9
checking 'median' ............................. PASS (7c79dea3bfc1415b) 0.9
checking 'quantile' ........................... PASS (03ab24e6a573bd6b) 14.9
checking 'Image' .............................. PASS (e06d5f65342df035) 324.9
checking 'as.Image' ........................... PASS (5e369a5a8c06ea6e) 324.9
checking 'is.Image' ........................... PASS (e3aef3409e870c0e) 0.9
checking 'imageData' .......................... PASS (a72e950dc2c633c4) 324.9
checking 'imageData<-' ........................ PASS (5e369a5a8c06ea6e) 324.9
checking 'as.raster' .......................... PASS (76158aebe747f7e1) NA
checking 'colorMode<-' ........................ PASS (5e369a5a8c06ea6e) 324.9
checking 'numberOfFrames' ..................... PASS (7c79dea3bfc1415b) 0.9
checking 'getFrames' .......................... PASS (5be9802bf124fe9c) 0793da5ae058772e
checking 'display' ............................ PASS (174250a6d96dee60) 5fa8470e1b05b374
checking 'display' ............................ PASS (d956c282ac7180e4) -0.1
checking 'image' .............................. PASS (d956c282ac7180e4) -0.1
checking 'drawCircle' ......................... PASS (a3847050dd15905c) 324.9
checking '[' .................................. PASS (5e369a5a8c06ea6e) 324.9
checking 'resize' ............................. PASS (81601207cc4e4223) 4543605
checking 'rotate' ............................. PASS (3db98677c68c5102) 483.6843
checking 'flip' ............................... PASS (5e369a5a8c06ea6e) 324.9
checking 'flop' ............................... PASS (5e369a5a8c06ea6e) 324.9
checking 'translate' .......................... PASS (a3847050dd15905c) 324.9
checking 'affine' ............................. PASS (92683959c9ed97c3) 39.9
checking 'transpose' .......................... PASS (5e369a5a8c06ea6e) 324.9
checking 'thresh' ............................. PASS (dafc92132d191221) -0.1
checking 'channel' ............................ PASS (5e369a5a8c06ea6e) 324.9
checking 'otsu' ............................... PASS (2abebb5cf42f343e) 0.8980469
checking 'bwlabel' ............................ PASS (5e369a5a8c06ea6e) 324.9
checking 'colorLabels' ........................ PASS (a7e8ce686b7c6eec) 2849.9
checking 'stackObjects' ....................... PASS (995b03d1197fdd56) 324.9
checking 'stackObjects' ....................... PASS (d956c282ac7180e4) -0.1
checking 'paintObjects' ....................... PASS (fbe94deb2c7c7e12) 270.7333
checking 'rmObjects' .......................... PASS (dafc92132d191221) -0.1
checking 'reenumerate' ........................ PASS (dafc92132d191221) -0.1
checking 'reenumerate' ........................ PASS (5e369a5a8c06ea6e) 324.9
checking 'computeFeatures' .................... PASS (1e197f38fe3db7df) 950932.9
checking 'computeFeatures' .................... PASS (8cd691a663f460c1) 9bc95f30143c0aa0
checking 'ocontour' ........................... PASS (1ad47b9dc5e279b9) 5742434f54ead73b
checking 'localCurvature' ..................... PASS (07aef8b9d0c42e30) a52d22f2e3bb2222
checking 'normalize' .......................... PASS (a3847050dd15905c) 324.9
checking 'normalize' .......................... PASS (a3847050dd15905c) 324.9
checking 'gblur' .............................. PASS (34be5e3328df689f) NA
checking 'filter2' ............................ PASS (046936d9c22a44d3) 8124.9
checking 'medianFilter' ....................... PASS (a3847050dd15905c) 324.9
checking 'equalize' ........................... PASS (5e369a5a8c06ea6e) 324.9
checking 'erode' .............................. PASS (ab60d77d8694845c) 324.9
checking 'dilate' ............................. PASS (ab60d77d8694845c) 324.9
checking 'opening' ............................ PASS (ab60d77d8694845c) 324.9
checking 'closing' ............................ PASS (ab60d77d8694845c) 324.9
checking 'whiteTopHat' ........................ PASS (dafc92132d191221) -0.1
checking 'blackTopHat' ........................ PASS (dafc92132d191221) -0.1
checking 'selfComplementaryTopHat' ............ PASS (ccb4c957b356b423) 649.9
checking 'distmap' ............................ PASS (4620168ff1c2a437) Inf
checking 'watershed' .......................... PASS (5e369a5a8c06ea6e) 324.9
checking 'floodFill' .......................... PASS (dafc92132d191221) -0.1
checking 'fillHull' ........................... PASS (ab60d77d8694845c) 324.9
checking 'propagate' .......................... PASS (dafc92132d191221) -0.1
checking 'toRGB' .............................. PASS (f3b87c6a40e54c68) 2849.9
checking 'rgbImage' ........................... PASS (a1c021690e069b07) 1274.9
checking 'colormap' ........................... PASS (948ec87fd2adc7a9) 2652.253
checking 'combine' ............................ PASS (8c39678924e12a09) 1274.9
checking 'combine' ............................ PASS (072d49f53072e43b) 7874.9
checking 'tile' ............................... PASS (16eb65ee8bbcb932) 24420.64
checking 'untile' ............................. PASS (8bcebbd606485233) 10445.49
checking 'abind' .............................. PASS (8c39678924e12a09) 1274.9

Warning messages:
1: In hash.old(y) : NAs introduced by coercion
2: In hash.old(y) : NAs introduced by coercion
3: In hash.old(y) : NAs introduced by coercion
4: In hash.old(y) : NAs introduced by coercion
> 
> ## test: 2D Grayscale 64x48
> x <- nuclei[50:113,208:255,2]
> testEBImageFunctions(as.array(x))
new test (hash=3e469356855e6210)
checking 'show' ............................... PASS (0c6212669ee6288d) NA
checking 'print' .............................. PASS (0c6212669ee6288d) NA
checking 'hist' ............................... PASS (e7a708b4f96f88dc) bb3d9d4fe47f137d
checking '>' .................................. PASS (0a927a877b0b85eb) 1217568
checking '+' .................................. PASS (2c51607a58b46974) 2940144
checking '/' .................................. PASS (a872fc97379d58f5) 735035.9
checking '*' .................................. PASS (2c51607a58b46974) 2940144
checking 'median' ............................. PASS (d2a8be6a346c3d28) 0.04509804
checking 'quantile' ........................... PASS (645f4aadbce7bdea) 7.331373
checking 'Image' .............................. PASS (923c3911d773eb6e) 1470072
checking 'as.Image' ........................... PASS (b7ae9a016c5a19ec) 1470072
checking 'is.Image' ........................... PASS (69f0cf1cfd5cd8ed) -0.1
checking 'imageData' .......................... PASS (3e469356855e6210) 1470072
checking 'imageData<-' ........................ PASS (3e469356855e6210) 1470072
checking 'as.raster' .......................... PASS (42efa6b3b04694cf) NA
checking 'colorMode<-' ........................ PASS (b8d002268bfac3eb) NA
checking 'numberOfFrames' ..................... PASS (7c79dea3bfc1415b) 0.9
checking 'getFrames' .......................... PASS (d38b8f6c1a1504a8) 31b837e1233e61ed
checking 'display' ............................ PASS (dada341199e50c3d) e71f191dd8006bab
checking 'display' ............................ PASS (d956c282ac7180e4) -0.1
checking 'image' .............................. PASS (d956c282ac7180e4) -0.1
checking 'drawCircle' ......................... PASS (872845fa91c628a6) 1607165
checking '[' .................................. PASS (711703fde7cc915e) 48.94314
checking 'resize' ............................. PASS (7882055c8b670bf4) 1419476
checking 'rotate' ............................. PASS (559860bb5c99cb82) 2493977
checking 'flip' ............................... PASS (8834ca70d449207a) 1195977
checking 'flop' ............................... PASS (d73abd773dfc066a) 1462119
checking 'translate' .......................... PASS (5744e19288b9d7f0) 2133961
checking 'affine' ............................. PASS (11616142290451c1) 54171.17
checking 'transpose' .......................... PASS (aa87d51a100b139f) 1522055
checking 'thresh' ............................. PASS (c790c6a6872d73d0) 1262811
checking 'channel' ............................ PASS (3e469356855e6210) 1470072
checking 'otsu' ............................... PASS (3aea1e91f3716bcb) 0.3160156
checking 'bwlabel' ............................ PASS (5055cb94d5293a15) 1199387
checking 'colorLabels' ........................ PASS (464d65c8da42be0d) 10021713
checking 'stackObjects' ....................... PASS (c5669f863a2ba20e) 718602.9
checking 'stackObjects' ....................... PASS (d956c282ac7180e4) -0.1
checking 'paintObjects' ....................... PASS (19a9fbb907cee1c4) 1447733
checking 'rmObjects' .......................... PASS (365ace8a4657cb08) -0.1
checking 'reenumerate' ........................ PASS (365ace8a4657cb08) -0.1
checking 'reenumerate' ........................ PASS (5055cb94d5293a15) 1199387
checking 'computeFeatures' .................... PASS (f59aa3f08e782acf) 3634215
checking 'computeFeatures' .................... PASS (4e7e75f941531854) 162981db75daaae7
checking 'ocontour' ........................... PASS (790a5f5b45092d41) 57adc3055202768b
checking 'localCurvature' ..................... PASS (fb6d4b13b08dcac4) be6c48fc7c8a3c8a
checking 'normalize' .......................... PASS (1f79956b7887dd73) 1431381
checking 'normalize' .......................... PASS (13a2d37d997199f9) 1266798
checking 'gblur' .............................. PASS (203a6d72b1fd5eba) 1466231
checking 'filter2' ............................ PASS (c82a1ece6902714d) 36592176
checking 'medianFilter' ....................... PASS (4140c87b3a1db93d) 1454712
checking 'equalize' ........................... PASS (ba175363e5576ad1) 2642794
checking 'erode' .............................. PASS (bee7898f6d8d547b) 759774.9
checking 'dilate' ............................. PASS (ed04adac54c645fd) 1797576
checking 'opening' ............................ PASS (d1c6ca8aafbd90cb) 1152484
checking 'closing' ............................ PASS (b8cf094b52fe1744) 1232737
checking 'whiteTopHat' ........................ PASS (9b53631dd222dd50) 18730.15
checking 'blackTopHat' ........................ PASS (089cd73847d97de5) 27716.23
checking 'selfComplementaryTopHat' ............ PASS (cc378ce1d0553ecd) 2929436
checking 'distmap' ............................ PASS (f98a44bf21faa222) 3826969
checking 'watershed' .......................... PASS (b39c109238f0c74b) 2762113
checking 'floodFill' .......................... PASS (c59341ffade6129a) 1470197
checking 'fillHull' ........................... PASS (0a927a877b0b85eb) 1217568
checking 'propagate' .......................... PASS (cec466bef7a2a81e) 3464201
checking 'toRGB' .............................. PASS (5051d2b131286d46) 12381911
checking 'rgbImage' ........................... PASS (ccc09b31890cd8df) 4859544
checking 'colormap' ........................... PASS (b7020f3851eb7d7c) 11126039
checking 'combine' ............................ PASS (5bda9f75cbc23401) 5597376
checking 'combine' ............................ PASS (306e27bb3ec346e6) 33922678
checking 'tile' ............................... PASS (870e7501fa1f3338) 78718054
checking 'untile' ............................. PASS (868893e062dea032) 72597772
checking 'abind' .............................. PASS (5bda9f75cbc23401) 5597376

Warning messages:
1: In hash.old(y) : NAs introduced by coercion
2: In hash.old(y) : NAs introduced by coercion
3: In hash.old(y) : NAs introduced by coercion
4: In hash.old(y) : NAs introduced by coercion
> 
> ## test: 2D Color 32x48x1
> x <- sample[1:32, 1:48]
> testEBImageFunctions(Image(as.vector(x), dim(x), Color))
new test (hash=7718e616f411c340)
checking 'show' ............................... PASS (1a2c30323dd5a8ee) NA
checking 'print' .............................. PASS (e9fad67b70709e2b) NA
checking 'hist' ............................... PASS (596b544e7cd6f458) e99389080830c142
checking '>' .................................. PASS (e72c38d763e5fabf) 988518.9
checking '+' .................................. PASS (e38cf73f1c0c88a2) 1531522
checking '/' .................................. PASS (df4e8bf818fc26fe) 382880.4
checking '*' .................................. PASS (e38cf73f1c0c88a2) 1531522
checking 'median' ............................. PASS (fc60ee4b14ba4a28) 0.5039216
checking 'quantile' ........................... PASS (436f03b8c9c3ad0e) 10.10392
checking 'Image' .............................. PASS (7718e616f411c340) 765760.9
checking 'as.Image' ........................... PASS (7718e616f411c340) 765760.9
checking 'is.Image' ........................... PASS (e3aef3409e870c0e) 0.9
checking 'imageData' .......................... PASS (19c51d4d9d30d60c) 765760.9
checking 'imageData<-' ........................ PASS (7718e616f411c340) 765760.9
checking 'as.raster' .......................... PASS (05c68b3f51ec838b) NA
checking 'colorMode<-' ........................ PASS (733871e596e328df) 765760.9
checking 'numberOfFrames' ..................... PASS (7c79dea3bfc1415b) 0.9
checking 'getFrames' .......................... PASS (681aab4c8a24c6c5) e6dc356666b6251c
checking 'display' ............................ PASS (bb2b4586191eb980) 46a272316ccb58ef
checking 'display' ............................ PASS (d956c282ac7180e4) -0.1
checking 'image' .............................. PASS (d956c282ac7180e4) -0.1
checking 'drawCircle' ......................... PASS (a6757bb66994b1f7) 782100.7
checking '[' .................................. PASS (25a626878222798c) 1285.273
checking 'resize' ............................. PASS (bb1209a84d6b3709) 2941770
checking 'rotate' ............................. PASS (924fc66d1ec91d44) 1247487
checking 'flip' ............................... PASS (828db3b8ad878bd6) 661525.2
checking 'flop' ............................... PASS (f69b431f36c97abd) 768451.1
checking 'translate' .......................... PASS (3eb2fe0d22e461ed) 820434.5
checking 'affine' ............................. PASS (7a760844869cec92) 22238.15
checking 'transpose' .......................... PASS (d438f72715d302ed) 652051.4
checking 'thresh' ............................. PASS (8b3a72b493ab8540) 382924.9
checking 'channel' ............................ PASS (3982766c7e1077b3) 162800.7
checking 'otsu' ............................... PASS (ebd9ed7a0cf4831d) 0.03085937
checking 'bwlabel' ............................ PASS (498723eb57bcca48) 832970.9
checking 'colorLabels' ........................ PASS (ecbf282c48506ef2) 3692613
checking 'stackObjects' ....................... PASS (e30de50cc1d8e117) 596493.9
checking 'stackObjects' ....................... PASS (d956c282ac7180e4) -0.1
checking 'paintObjects' ....................... PASS (9b5026b178720a80) 919069.9
checking 'rmObjects' .......................... PASS (e0ab50f8e544290a) 565.9
checking 'reenumerate' ........................ PASS (e0ab50f8e544290a) 565.9
checking 'reenumerate' ........................ PASS (498723eb57bcca48) 832970.9
checking 'computeFeatures' .................... PASS (c1ff2e62e7bb8eee) 3989786
checking 'computeFeatures' .................... PASS (4e7e75f941531854) 162981db75daaae7
checking 'ocontour' ........................... PASS (ced9c409ca879dc9) 307e5271f94742ce
checking 'localCurvature' ..................... PASS (25e900bf67a8cdb0) 7faa95a1a5954a9d
checking 'normalize' .......................... PASS (b8b2cfe4f431fc83) 747801.4
checking 'normalize' .......................... PASS (3ee0aade2890ed53) 809649.2
checking 'gblur' .............................. PASS (0c28ab262af637d1) 761679.3
checking 'filter2' ............................ PASS (bf01322f9e0aed7a) 19130329
checking 'medianFilter' ....................... PASS (189cf2d04b2316f5) 765141.6
checking 'equalize' ........................... PASS (b525d614a289c5a3) 705546.8
checking 'erode' .............................. PASS (84add15c6fa8ac14) 908526.9
checking 'dilate' ............................. PASS (e99e1ecfd4ef49d3) 1072658
checking 'opening' ............................ PASS (80d457c0bcd57e44) 985798.9
checking 'closing' ............................ PASS (cc9339fed43d2c52) 988727.9
checking 'whiteTopHat' ........................ PASS (25444773943cf26b) 3572.998
checking 'blackTopHat' ........................ PASS (10fae7d8c0f86c96) 7139.473
checking 'selfComplementaryTopHat' ............ PASS (2f97211e82aa8221) 1533178
checking 'distmap' ............................ PASS (218b9e66643db8d3) 12740449
checking 'watershed' .......................... PASS (6edd3aa33ad54089) 988518.9
checking 'floodFill' .......................... PASS (228b47626610f8c9) 765755.4
checking 'fillHull' ........................... PASS (e72c38d763e5fabf) 988518.9
checking 'propagate' .......................... PASS (73d53b87d72f0409) 26630579
checking 'toRGB' .............................. PASS (7718e616f411c340) 765760.9
checking 'rgbImage' ........................... PASS (6df3c3d16757cdd6) 3520680
checking 'colormap' ........................... PASS (8e7f90c18580cd50) 1816912
checking 'combine' ............................ PASS (f156de3e1aff037c) 2960568
checking 'combine' ............................ PASS (1bfd38ce66379070) 18119267
checking 'tile' ............................... PASS (3f8e8f9b949597b4) 33061491
checking 'untile' ............................. PASS (9f839c04542fa7e4) 27788327
checking 'abind' .............................. PASS (a65f1e1e2d249be6) 2960568

Warning messages:
1: In hash.old(y) : NAs introduced by coercion
2: In hash.old(y) : NAs introduced by coercion
3: In hash.old(y) : NAs introduced by coercion
> 
> ## test: 3D Color 65x17x3
> x <- sample.color[1:65, 1:17,]
> testEBImageFunctions(x)
new test (hash=3884fe38962577a7)
checking 'show' ............................... PASS (8331bd653405c3be) NA
checking 'print' .............................. PASS (de22d3dc188680fd) NA
checking 'hist' ............................... PASS (10b008981f19c77a) 3ba2c54847ff49ff
checking '>' .................................. PASS (e6c8a64e9fff6055) 1058553
checking '+' .................................. PASS (5bb860f09b56b4d9) 4072301
checking '/' .................................. PASS (17b2c344ff60cf34) 1018075
checking '*' .................................. PASS (5bb860f09b56b4d9) 4072301
checking 'median' ............................. PASS (a9ae52973fed588b) 0.2333333
checking 'quantile' ........................... PASS (e51be80ed6288f06) 7.280392
checking 'Image' .............................. PASS (3884fe38962577a7) 2036151
checking 'as.Image' ........................... PASS (3884fe38962577a7) 2036151
checking 'is.Image' ........................... PASS (e3aef3409e870c0e) 0.9
checking 'imageData' .......................... PASS (1456dcb0ab2d690b) 2036151
checking 'imageData<-' ........................ PASS (3884fe38962577a7) 2036151
checking 'as.raster' .......................... PASS (abd1d3d0d6329777) NA
checking 'colorMode<-' ........................ PASS (0aa63faa9d4e0838) 2036151
checking 'numberOfFrames' ..................... PASS (7c79dea3bfc1415b) 0.9
checking 'getFrames' .......................... PASS (2ed277d7e69a05d2) 1750981548e81a00
checking 'display' ............................ PASS (3d646d4f07d194ba) e7aad486cf864763
checking 'display' ............................ PASS (d956c282ac7180e4) -0.1
checking 'image' .............................. PASS (d956c282ac7180e4) -0.1
checking 'drawCircle' ......................... PASS (5175a6622762681a) 2049936
checking '[' .................................. PASS (c60784a663dd1761) 9950.096
checking 'resize' ............................. PASS (fe9aa55b037def9d) 15155777
checking 'rotate' ............................. PASS (2a6f5001ae7d116d) 4525312
checking 'flip' ............................... PASS (192932ac94cae831) 1977928
checking 'flop' ............................... PASS (55c97a05ee9ed805) 2048664
checking 'translate' .......................... PASS (c866b3232cda2c68) 2998417
checking 'affine' ............................. PASS (517c3559acf97cf4) 226067.6
checking 'transpose' .......................... PASS (e6349d8cc35ed017) 1907377
checking 'thresh' ............................. PASS (e98d9e4246c476a4) 954376.9
checking 'channel' ............................ PASS (84d92148a5eda650) 257578.5
checking 'otsu' ............................... PASS (6a2131f538a2a53e) 0.3316406
checking 'bwlabel' ............................ PASS (2fa4cf414bbb7787) 230329.9
checking 'colorLabels' ........................ PASS (b71e0c0d93c0ba5d) 1920855
checking 'stackObjects' ....................... PASS (f30668520190ffed) 712799.6
checking 'stackObjects' ....................... PASS (d956c282ac7180e4) -0.1
checking 'paintObjects' ....................... PASS (6a1ba970169d82ad) 2090128
checking 'rmObjects' .......................... PASS (3705fc84a07dd0cd) -0.1
checking 'reenumerate' ........................ PASS (3705fc84a07dd0cd) -0.1
checking 'reenumerate' ........................ PASS (2fa4cf414bbb7787) 230329.9
checking 'computeFeatures' .................... PASS (a33c53edd3cf8a46) 746878.2
checking 'computeFeatures' .................... PASS (8cd691a663f460c1) 9bc95f30143c0aa0
checking 'ocontour' ........................... PASS (1be2808a87ee437f) 8a1eb9f0654f5114
checking 'localCurvature' ..................... PASS (ad1fddb421e46506) 63cee8a66ce4e24c
checking 'normalize' .......................... PASS (edb5f31f14cd540d) 1788995
checking 'normalize' .......................... PASS (6a1005a2ed478c1e) 1858155
checking 'gblur' .............................. PASS (c61849c1f4dc6d25) 2029979
checking 'filter2' ............................ PASS (760ded68d0c55bfa) 50878763
checking 'medianFilter' ....................... PASS (0b06f73d5aecad7d) 2034604
checking 'equalize' ........................... PASS (2d4d0558bb48cbfc) 2942981
checking 'erode' .............................. PASS (94112a39c70cd747) 830816.9
checking 'dilate' ............................. PASS (a9fbe5f3b81787ec) 1339263
checking 'opening' ............................ PASS (957aea2990d2caa1) 1013295
checking 'closing' ............................ PASS (7af64e74f8e80dbb) 1069405
checking 'whiteTopHat' ........................ PASS (d50f6d3e0e26602d) 16585.63
checking 'blackTopHat' ........................ PASS (310953bdffbb07ee) 22039.05
checking 'selfComplementaryTopHat' ............ PASS (dfefa629c102a00d) 4071763
checking 'distmap' ............................ PASS (6c03a6a34b67eec0) 6038778
checking 'watershed' .......................... PASS (61ebc564dd827878) 1058553
checking 'floodFill' .......................... PASS (f537dd1499704563) 2036854
checking 'fillHull' ........................... PASS (e6c8a64e9fff6055) 1058553
checking 'propagate' .......................... PASS (7b81c961226b8218) 7755487
checking 'toRGB' .............................. PASS (3884fe38962577a7) 2036151
checking 'rgbImage' ........................... PASS (43e895266c1b7cae) 7617867
checking 'colormap' ........................... PASS (972e374a8a23c0e1) 1657338
checking 'combine' ............................ PASS (d56bf3140c7cd055) 8350133
checking 'combine' ............................ PASS (b21bd2c702883543) 52959073
checking 'tile' ............................... PASS (4f60a4ae167b4e6e) 107188639
checking 'untile' ............................. PASS (05afb65e638c5769) 97994583
checking 'abind' .............................. PASS (d56bf3140c7cd055) 8350133

Warning messages:
1: In hash.old(y) : NAs introduced by coercion
2: In hash.old(y) : NAs introduced by coercion
3: In hash.old(y) : NAs introduced by coercion
> 
> ## test: 3D Grayscale logical 32x32x2
> x <- sample[32:63, 32:63]
> x <- x > otsu(x)
> x <- combine(x, x)
> testEBImageFunctions(x)
new test (hash=db12fa8044d98567)
checking 'show' ............................... PASS (75018abdcca926f0) NA
checking 'print' .............................. PASS (9bacee8faec96053) NA
checking 'hist' ............................... PASS (f0f3640c0aa89c38) 8a0ff1615bea3b3b
checking '>' .................................. PASS (db12fa8044d98567) 1055560
checking '+' .................................. PASS (0b5a21f5cc627e62) 2111120
checking '/' .................................. PASS (bf2545eee0c6aa3e) 527779.9
checking '*' .................................. PASS (0b5a21f5cc627e62) 2111120
checking 'median' ............................. PASS (8396e8397399bb05) -0.1
checking 'quantile' ........................... PASS (130a179fb028f1a7) 8.9
checking 'Image' .............................. PASS (041d3981bcab3129) 1055560
checking 'as.Image' ........................... PASS (db12fa8044d98567) 1055560
checking 'is.Image' ........................... PASS (e3aef3409e870c0e) 0.9
checking 'imageData' .......................... PASS (6b02d87cd459ac19) 1055560
checking 'imageData<-' ........................ PASS (db12fa8044d98567) 1055560
checking 'as.raster' .......................... PASS (26cf978328d1a712) NA
checking 'colorMode<-' ........................ PASS (db12fa8044d98567) 1055560
checking 'numberOfFrames' ..................... PASS (161e41d6aa749739) 1.9
checking 'getFrames' .......................... PASS (ce29246f73d959c3) 34b1f972b2556640
checking 'display' ............................ PASS (2fb2fcab54a4ea5a) a59a5509e2da96ec
checking 'display' ............................ PASS (d956c282ac7180e4) -0.1
checking 'image' .............................. PASS (d956c282ac7180e4) -0.1
checking 'drawCircle' ......................... PASS (1180c20b46fdaf4e) 1656514
checking '[' .................................. PASS (2a55f6dafc492b42) 1889.9
checking 'resize' ............................. PASS (211e86386b1010af) 9108608
checking 'rotate' ............................. PASS (d67e39e3cb07d275) 1600126
checking 'flip' ............................... PASS (fbb2a6f78f2cc7f1) 714439.9
checking 'flop' ............................... PASS (f6825dda37058381) 1064092
checking 'translate' .......................... PASS (8d027c3127938636) 1105982
checking 'affine' ............................. PASS (a6e552f84324fe21) 133467.8
checking 'transpose' .......................... PASS (eeeb148d04107340) 758083.9
checking 'thresh' ............................. PASS (5b7b2d141f385123) 824497.9
checking 'channel' ............................ PASS (db12fa8044d98567) 1055560
checking 'otsu' ............................... PASS (69c60dc99d5066e3) 1.4
checking 'bwlabel' ............................ PASS (10092f8e4256496b) 1597368
checking 'colorLabels' ........................ PASS (ebf6961f64378f97) 5485361
checking 'stackObjects' ....................... PASS (d1d99850ff4d6d38) 8889538
checking 'stackObjects' ....................... PASS (d956c282ac7180e4) -0.1
checking 'paintObjects' ....................... PASS (8c5ef6f490aa8762) 834266.6
checking 'rmObjects' .......................... PASS (0a1cd72f8d3c03e8) 1303423
checking 'reenumerate' ........................ PASS (df75276eeec5813d) 1244828
checking 'reenumerate' ........................ PASS (10092f8e4256496b) 1597368
checking 'computeFeatures' .................... PASS (1bf064e6a11f2410) 416164140
checking 'computeFeatures' .................... PASS (4e7e75f941531854) 162981db75daaae7
checking 'ocontour' ........................... PASS (9f7d90d6312e32f3) 520feefec500ade4
checking 'localCurvature' ..................... PASS (477746e4fee34aeb) 173b754e552dc94a
checking 'normalize' .......................... PASS (eea76285d45436f7) 1055560
checking 'normalize' .......................... PASS (eea76285d45436f7) 1055560
checking 'gblur' .............................. PASS (9224b720f9d00006) 1037581
checking 'filter2' ............................ PASS (637287a5df76a79d) 26149148
checking 'medianFilter' ....................... PASS (ed8d722e63a36a34) 1030730
checking 'equalize' ........................... PASS (eea76285d45436f7) 1055560
checking 'erode' .............................. PASS (54ccd3aba098da92) 617311.9
checking 'dilate' ............................. PASS (3f0aed5a551e26b5) 1591594
checking 'opening' ............................ PASS (ae3c29b4498904c5) 861145.9
checking 'closing' ............................ PASS (2e26e13058dee387) 1188258
checking 'whiteTopHat' ........................ PASS (28bbffedc1bcb297) 148131.9
checking 'blackTopHat' ........................ PASS (a862285882d4249e) 202411.9
checking 'selfComplementaryTopHat' ............ PASS (92483d40b14844db) 2151192
checking 'distmap' ............................ PASS (766610b2223767b0) 3856630
checking 'watershed' .......................... PASS (eaba5359a5afa00e) 1443978
checking 'floodFill' .......................... PASS (0db2bbd3a6d9a773) 2057384
checking 'fillHull' ........................... PASS (ccded36693237a0e) 1096352
checking 'propagate' .......................... PASS (e3c3ba3dd998f78f) 1613920
checking 'toRGB' .............................. PASS (a594b4f9b88125f1) 8499672
checking 'rgbImage' ........................... PASS (172b07d65c57f496) 4777616
checking 'colormap' ........................... PASS (a6b9bc2f3472cbee) 10283526
checking 'combine' ............................ PASS (f13e4c8ca8445cd0) 3888784
checking 'combine' ............................ PASS (d8a9b6cf082a9146) 23054440
checking 'tile' ............................... PASS (4c3d7086d0c2c786) 48846817
checking 'untile' ............................. PASS (65365043e983ec58) 41221063
checking 'abind' .............................. PASS (af0697002f77c709) 3888784

Warning messages:
1: In hash.old(y) : NAs introduced by coercion
2: In hash.old(y) : NAs introduced by coercion
3: In hash.old(y) : NAs introduced by coercion
> 
> ## test: 4D Color 33x16x3x2
> x <- sample.color[1:33, 1:16,]
> x <- combine(x, x)
> testEBImageFunctions(x)
new test (hash=290d7a45d7468e5f)
checking 'show' ............................... PASS (78a7303aa046067b) NA
checking 'print' .............................. PASS (9aaf686697ac72be) NA
checking 'hist' ............................... PASS (b01a7d139c82f457) c7b6d9da8efb0d2a
checking '>' .................................. PASS (1f65757da86f51b3) 2013322
checking '+' .................................. PASS (86bdea7870f6d0cc) 4709417
checking '/' .................................. PASS (c3533150260f42c4) 1177354
checking '*' .................................. PASS (86bdea7870f6d0cc) 4709417
checking 'median' ............................. PASS (06af3e4c86ccda6d) 0.3823529
checking 'quantile' ........................... PASS (11ef7960975f6975) 8.139216
checking 'Image' .............................. PASS (290d7a45d7468e5f) 2354709
checking 'as.Image' ........................... PASS (290d7a45d7468e5f) 2354709
checking 'is.Image' ........................... PASS (e3aef3409e870c0e) 0.9
checking 'imageData' .......................... PASS (1936bbf08b457bab) 2354709
checking 'imageData<-' ........................ PASS (290d7a45d7468e5f) 2354709
checking 'as.raster' .......................... PASS (da1c028f359bf00b) NA
checking 'colorMode<-' ........................ PASS (7856ef3bde7528ce) 2354709
checking 'numberOfFrames' ..................... PASS (161e41d6aa749739) 1.9
checking 'getFrames' .......................... PASS (f0d9427233f46fbb) 925d92c4efbf7653
checking 'display' ............................ PASS (bc877f5317c575b2) 9f608546948d6759
checking 'display' ............................ PASS (d956c282ac7180e4) -0.1
checking 'image' .............................. PASS (d956c282ac7180e4) -0.1
checking 'drawCircle' ......................... PASS (ad8f0dc0cad6885c) 2650006
checking '[' .................................. PASS (144b12c39a99e2bc) 40701.82
checking 'resize' ............................. PASS (dd96ecc9ed75e744) 76725662
checking 'rotate' ............................. PASS (19319de30582c1d6) 4140744
checking 'flip' ............................... PASS (91c7918c52fe8718) 2309692
checking 'flop' ............................... PASS (49ae0fb3bef587c5) 2358658
checking 'translate' .......................... PASS (a8fcd75113ffb2d2) 3393923
checking 'affine' ............................. PASS (592877c7d17e1d22) 301692.6
checking 'transpose' .......................... PASS (a42245132dbea662) 2303263
checking 'thresh' ............................. PASS (167470821b508c29) 1549362
checking 'channel' ............................ PASS (d4dd2cc593776db0) 287206.2
checking 'otsu' ............................... PASS (2ff953970aa01423) 1.370703
checking 'bwlabel' ............................ PASS (404699231a09f479) 360413.9
checking 'colorLabels' ........................ PASS (4742967f9e3ced6e) 3039066
checking 'stackObjects' ....................... PASS (71587dec63927412) 2472601
checking 'stackObjects' ....................... PASS (d956c282ac7180e4) -0.1
checking 'paintObjects' ....................... PASS (0daa597dbe10a6cd) 2558300
checking 'rmObjects' .......................... PASS (ea36bf2e51776461) 261782.9
checking 'reenumerate' ........................ PASS (ea36bf2e51776461) 261782.9
checking 'reenumerate' ........................ PASS (404699231a09f479) 360413.9
checking 'computeFeatures' .................... PASS (151a0d98d309d0b1) 749353.1
checking 'computeFeatures' .................... PASS (8cd691a663f460c1) 9bc95f30143c0aa0
checking 'ocontour' ........................... PASS (20fad83d539e2372) 9d7964011e11a9be
checking 'localCurvature' ..................... PASS (469cd750daa03946) 88419614c38ea083
checking 'normalize' .......................... PASS (4484b1dbbf34c675) 2693244
checking 'normalize' .......................... PASS (27680837000f1ded) 2315924
checking 'gblur' .............................. PASS (fc2147343f5faed5) 2349701
checking 'filter2' ............................ PASS (958b84b9c0054384) 58841710
checking 'medianFilter' ....................... PASS (8ccc036255fe88d9) 2352447
checking 'equalize' ........................... PASS (e7f99b2a8483f2d3) 2616480
checking 'erode' .............................. PASS (16554ca32b165307) 1547948
checking 'dilate' ............................. PASS (560c069e5292fdc9) 2604996
checking 'opening' ............................ PASS (592d8ab4156490aa) 1919386
checking 'closing' ............................ PASS (c57a6175329f5e45) 2038196
checking 'whiteTopHat' ........................ PASS (6938d64e59a77fe1) 12437.36
checking 'blackTopHat' ........................ PASS (8fbaad8a000d91c5) 19780.97
checking 'selfComplementaryTopHat' ............ PASS (b11bd64d03fe29b9) 4711722
checking 'distmap' ............................ PASS (708df2d4560d23a7) 10836360
checking 'watershed' .......................... PASS (4aa1432f01914277) 2013322
checking 'floodFill' .......................... PASS (02926422d15cf3c2) 2355706
checking 'fillHull' ........................... PASS (1f65757da86f51b3) 2013322
checking 'propagate' .......................... PASS (1656991af484107e) 11618104
checking 'toRGB' .............................. PASS (290d7a45d7468e5f) 2354709
checking 'rgbImage' ........................... PASS (98de7e0def0bab8b) 12071186
checking 'colormap' ........................... PASS (0798dea20c907720) 2273276
checking 'combine' ............................ PASS (579971440faf3f11) 9516503
checking 'combine' ............................ PASS (fb7944257dfefb91) 59844403
checking 'tile' ............................... PASS (e594265685cdf3aa) 114300809
checking 'untile' ............................. PASS (5b25f3b7fc0df1b3) 105862114
checking 'abind' .............................. PASS (a413703585d2e713) 9516503

Warning messages:
1: In hash.old(y) : NAs introduced by coercion
2: In hash.old(y) : NAs introduced by coercion
3: In hash.old(y) : NAs introduced by coercion
> 
> ## test: 4D Grayscale 16x33x2x3
> colorMode(x) <- Grayscale
> imageData(x) <- aperm(x, c(2L, 1L, 4L, 3L))
> testEBImageFunctions(x)
new test (hash=2a321f78219fa026)
checking 'show' ............................... PASS (3de182583a8c2cf2) NA
checking 'print' .............................. PASS (05d1cebf84274f35) NA
checking 'hist' ............................... PASS (885aba01ae2954f5) c984b74f904ca3b0
checking '>' .................................. PASS (c15b137f0122c2ee) 1541186
checking '+' .................................. PASS (2951b29fcfadda51) 4466272
checking '/' .................................. PASS (b0a06579c4ef390d) 1116568
checking '*' .................................. PASS (2951b29fcfadda51) 4466272
checking 'median' ............................. PASS (06af3e4c86ccda6d) 0.3823529
checking 'quantile' ........................... PASS (11ef7960975f6975) 8.139216
checking 'Image' .............................. PASS (e6ae9fe3a69fec2c) 2233136
checking 'as.Image' ........................... PASS (2a321f78219fa026) 2233136
checking 'is.Image' ........................... PASS (e3aef3409e870c0e) 0.9
checking 'imageData' .......................... PASS (6a221a6a2cec815a) 2233136
checking 'imageData<-' ........................ PASS (2a321f78219fa026) 2233136
checking 'as.raster' .......................... PASS (73a5fd711e0edd14) NA
checking 'colorMode<-' ........................ PASS (2a321f78219fa026) 2233136
checking 'numberOfFrames' ..................... PASS (d9914b6bdfe88a1d) 5.9
checking 'getFrames' .......................... PASS (c2a08dc890b333e2) f6e9a5d38142a455
checking 'display' ............................ PASS (d28e3e75eed04056) c204a94517b6e86e
checking 'display' ............................ PASS (d956c282ac7180e4) -0.1
checking 'image' .............................. PASS (d956c282ac7180e4) -0.1
checking 'drawCircle' ......................... PASS (d4dbcf7b516a28b0) 2502013
checking '[' .................................. PASS (efc391fc4ded377e) 41200.75
checking 'resize' ............................. PASS (5ab5e219e21b7d77) 72772706
checking 'rotate' ............................. PASS (5ea8cc41d39fe2c4) 3978266
checking 'flip' ............................... PASS (2578de2eb711ac89) 2296325
checking 'flop' ............................... PASS (c21acaf425029919) 2231772
checking 'translate' .......................... PASS (74e4014bf39793e1) 3827517
checking 'affine' ............................. PASS (76f6b18d2cb7c9c2) 219714.6
checking 'transpose' .......................... PASS (3b5dcc82ff30daf8) 2284582
checking 'thresh' ............................. PASS (3a92d48cd68a67e8) 1426674
checking 'channel' ............................ PASS (2a321f78219fa026) 2233136
checking 'otsu' ............................... PASS (2cdec937ebdb0543) 9.425391
checking 'bwlabel' ............................ PASS (f698416417dde49c) 2016822
checking 'colorLabels' ........................ PASS (b07a31035fc451d5) 15071536
checking 'stackObjects' ....................... PASS (8e5b00026f507a11) 2575847
checking 'stackObjects' ....................... PASS (d956c282ac7180e4) -0.1
checking 'paintObjects' ....................... PASS (63b2ef8ac8682f98) 2379341
checking 'rmObjects' .......................... PASS (056669f72385f506) 1934575
checking 'reenumerate' ........................ PASS (056669f72385f506) 1934575
checking 'reenumerate' ........................ PASS (f698416417dde49c) 2016822
checking 'computeFeatures' .................... PASS (53798e843cdbfa9f) 734993.9
checking 'computeFeatures' .................... PASS (8cd691a663f460c1) 9bc95f30143c0aa0
checking 'ocontour' ........................... PASS (3a230e30e8d15bee) bd10c4b443e2c5c0
checking 'localCurvature' ..................... PASS (a1d19191deda947d) 315e34c611de2b7d
checking 'normalize' .......................... PASS (85d2a91256ddfdaa) 2526618
checking 'normalize' .......................... PASS (4accf817a36301dc) 2163958
checking 'gblur' .............................. PASS (c2c22f114f9ac87d) 2237219
checking 'filter2' ............................ PASS (0245e31021e7583c) 56904871
checking 'medianFilter' ....................... PASS (24f248c2c56e7772) 2231438
checking 'equalize' ........................... PASS (97693dcd997265d1) 2447139
checking 'erode' .............................. PASS (5b04187576514eec) 1121204
checking 'dilate' ............................. PASS (4897aaa0d40c4fb8) 2104588
checking 'opening' ............................ PASS (cb86eac9754dbac1) 1451050
checking 'closing' ............................ PASS (13b4d846ef6a77dd) 1569448
checking 'whiteTopHat' ........................ PASS (1c856cc6a52ed865) 12004.54
checking 'blackTopHat' ........................ PASS (f74244f5c4295d35) 20296.87
checking 'selfComplementaryTopHat' ............ PASS (f23286411d6929f7) 4469404
checking 'distmap' ............................ PASS (ff3b2754a2aa8eb3) 7464344
checking 'watershed' .......................... PASS (cd9ef36f457c5d89) 1541186
checking 'floodFill' .......................... PASS (60d288f662756f97) 2234521
checking 'fillHull' ........................... PASS (c15b137f0122c2ee) 1541186
checking 'propagate' .......................... PASS (503cd7ed6238770e) 8948876
checking 'toRGB' .............................. PASS (5a32f2aceec9a146) 20279146
checking 'rgbImage' ........................... PASS (19e0ea95d787d11c) 10796552
checking 'colormap' ........................... PASS (62fb056f168823de) 22585273
checking 'combine' ............................ PASS (67fe5c370ca3a18d) 8992851
checking 'combine' ............................ PASS (41f451bdd6a63a8f) 56431472
checking 'tile' ............................... PASS (0581a6216e8e50e0) 72664167
checking 'untile' ............................. PASS (4e208afef7f298bd) 60048605
checking 'abind' .............................. PASS (e3feb875241cebc2) 9273358

Warning messages:
1: In hash.old(y) : NAs introduced by coercion
2: In hash.old(y) : NAs introduced by coercion
3: In hash.old(y) : NAs introduced by coercion
> 
> ## test: Image subclass
> ImageSubclass <- setClass ("ImageSubclass", contains = "Image", slots = c(foo = "character"))
> x <- ImageSubclass(x, foo="bar")
> testEBImageFunctions(x)
new test (hash=9b67f57c77f74d34)
checking 'show' ............................... PASS (63597c3473b56977) NA
checking 'print' .............................. PASS (1cd88fa9e1ff084e) NA
checking 'hist' ............................... PASS (885aba01ae2954f5) c984b74f904ca3b0
checking '>' .................................. PASS (8213f4f8b30b3c46) 1541186
checking '+' .................................. PASS (d9da0200176ead52) 4466272
checking '/' .................................. PASS (c5360d5612508ba0) 1116568
checking '*' .................................. PASS (d9da0200176ead52) 4466272
checking 'median' ............................. PASS (06af3e4c86ccda6d) 0.3823529
checking 'quantile' ........................... PASS (11ef7960975f6975) 8.139216
checking 'Image' .............................. PASS (e6ae9fe3a69fec2c) 2233136
checking 'as.Image' ........................... PASS (2a321f78219fa026) 2233136
checking 'is.Image' ........................... PASS (e3aef3409e870c0e) 0.9
checking 'imageData' .......................... PASS (6a221a6a2cec815a) 2233136
checking 'imageData<-' ........................ PASS (9b67f57c77f74d34) 2233136
checking 'as.raster' .......................... PASS (73a5fd711e0edd14) NA
checking 'colorMode<-' ........................ PASS (9b67f57c77f74d34) 2233136
checking 'numberOfFrames' ..................... PASS (d9914b6bdfe88a1d) 5.9
checking 'getFrames' .......................... PASS (e9438bf3afe19fef) 5aadb4894eade0a0
checking 'display' ............................ PASS (d28e3e75eed04056) c204a94517b6e86e
checking 'display' ............................ PASS (d956c282ac7180e4) -0.1
checking 'image' .............................. PASS (d956c282ac7180e4) -0.1
checking 'drawCircle' ......................... PASS (88969323fe4011cb) 2502013
checking '[' .................................. PASS (856f5f5a7828a96f) 41200.75
checking 'resize' ............................. PASS (22d4ff5205c02f14) 72772706
checking 'rotate' ............................. PASS (3e6dee126668bb5a) 3978266
checking 'flip' ............................... PASS (753308a7b510662f) 2296325
checking 'flop' ............................... PASS (1ea0c6126c86d976) 2231772
checking 'translate' .......................... PASS (c3111aabac6df5c8) 3827517
checking 'affine' ............................. PASS (559df6f741145f7f) 219714.6
checking 'transpose' .......................... PASS (d9282e9071f27e10) 2284582
checking 'thresh' ............................. PASS (b51eea6755dfd65a) 1426674
checking 'channel' ............................ PASS (9b67f57c77f74d34) 2233136
checking 'otsu' ............................... PASS (2cdec937ebdb0543) 9.425391
checking 'bwlabel' ............................ PASS (edce7604823b90a7) 2016822
checking 'colorLabels' ........................ PASS (05cf97699b52f053) 15969784
checking 'stackObjects' ....................... PASS (bbe84601c71da500) 2575847
checking 'stackObjects' ....................... PASS (d956c282ac7180e4) -0.1
checking 'paintObjects' ....................... PASS (944b58c80d127777) 2379341
checking 'rmObjects' .......................... PASS (1ed59ae8eb61aef6) 1934575
checking 'reenumerate' ........................ PASS (1ed59ae8eb61aef6) 1934575
checking 'reenumerate' ........................ PASS (edce7604823b90a7) 2016822
checking 'computeFeatures' .................... PASS (53798e843cdbfa9f) 734993.9
checking 'computeFeatures' .................... PASS (8cd691a663f460c1) 9bc95f30143c0aa0
checking 'ocontour' ........................... PASS (3a230e30e8d15bee) bd10c4b443e2c5c0
checking 'localCurvature' ..................... PASS (a1d19191deda947d) 315e34c611de2b7d
checking 'normalize' .......................... PASS (9ace81a69fc88c37) 2526618
checking 'normalize' .......................... PASS (2a78b599de5c2ae9) 2163958
checking 'gblur' .............................. PASS (0d226d91f7036796) 2237219
checking 'filter2' ............................ PASS (7cb701d185d8631b) 56904871
checking 'medianFilter' ....................... PASS (37328d9ce26ed388) 2231438
checking 'equalize' ........................... PASS (05fc2423af12b77a) 2447139
checking 'erode' .............................. PASS (17fcd8b3a8de8535) 1121204
checking 'dilate' ............................. PASS (715c930769bb9119) 2104588
checking 'opening' ............................ PASS (1ef38f55606cdbf4) 1451050
checking 'closing' ............................ PASS (66cb111962e57366) 1569448
checking 'whiteTopHat' ........................ PASS (66e080c20ad98021) 12004.54
checking 'blackTopHat' ........................ PASS (c8b5fb6a0e1d3959) 20296.87
checking 'selfComplementaryTopHat' ............ PASS (d91b85d0f726e766) 4469404
checking 'distmap' ............................ PASS (4ced93e5efc06917) 7464344
checking 'watershed' .......................... PASS (9c1a4d5672652853) 1541186
checking 'floodFill' .......................... PASS (d9a38a5952fe360e) 2234521
checking 'fillHull' ........................... PASS (8213f4f8b30b3c46) 1541186
checking 'propagate' .......................... PASS (0731a1de5ddabcc4) 8948876
checking 'toRGB' .............................. PASS (c62b6c6a269ea1eb) 20279146
checking 'rgbImage' ........................... PASS (27eec26383a0bc15) 10796552
checking 'colormap' ........................... PASS (eef6d0395d7fe0e7) 22585273
checking 'combine' ............................ PASS (5b4994ce3c695b2e) 8992851
checking 'combine' ............................ PASS (03e050af1c7e1af2) 56431472
checking 'tile' ............................... PASS (db685d6eb3480813) 72664167
checking 'untile' ............................. PASS (0e362c45443a3ec0) 60048605
checking 'abind' .............................. PASS (add8d4baab35a5f9) 9273358

Warning messages:
1: In hash.old(y) : NAs introduced by coercion
2: In hash.old(y) : NAs introduced by coercion
3: In hash.old(y) : NAs introduced by coercion
> 
